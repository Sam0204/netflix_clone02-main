{"ast":null,"code":"function _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nimport { getWindow } from 'ssr-window';\nimport $ from '../../utils/dom';\nimport { bindModuleMethods, getTranslate } from '../../utils/utils';\nvar Zoom = {\n  // Calc Scale From Multi-touches\n  getDistanceBetweenTouches: function getDistanceBetweenTouches(e) {\n    if (e.targetTouches.length < 2) return 1;\n    var x1 = e.targetTouches[0].pageX;\n    var y1 = e.targetTouches[0].pageY;\n    var x2 = e.targetTouches[1].pageX;\n    var y2 = e.targetTouches[1].pageY;\n    var distance = Math.sqrt(Math.pow(x2 - x1, 2) + Math.pow(y2 - y1, 2));\n    return distance;\n  },\n  // Events\n  onGestureStart: function onGestureStart(e) {\n    var swiper = this;\n    var support = swiper.support;\n    var params = swiper.params.zoom;\n    var zoom = swiper.zoom;\n    var gesture = zoom.gesture;\n    zoom.fakeGestureTouched = false;\n    zoom.fakeGestureMoved = false;\n\n    if (!support.gestures) {\n      if (e.type !== 'touchstart' || e.type === 'touchstart' && e.targetTouches.length < 2) {\n        return;\n      }\n\n      zoom.fakeGestureTouched = true;\n      gesture.scaleStart = Zoom.getDistanceBetweenTouches(e);\n    }\n\n    if (!gesture.$slideEl || !gesture.$slideEl.length) {\n      gesture.$slideEl = $(e.target).closest(\".\" + swiper.params.slideClass);\n      if (gesture.$slideEl.length === 0) gesture.$slideEl = swiper.slides.eq(swiper.activeIndex);\n      gesture.$imageEl = gesture.$slideEl.find('img, svg, canvas, picture, .swiper-zoom-target');\n      gesture.$imageWrapEl = gesture.$imageEl.parent(\".\" + params.containerClass);\n      gesture.maxRatio = gesture.$imageWrapEl.attr('data-swiper-zoom') || params.maxRatio;\n\n      if (gesture.$imageWrapEl.length === 0) {\n        gesture.$imageEl = undefined;\n        return;\n      }\n    }\n\n    if (gesture.$imageEl) {\n      gesture.$imageEl.transition(0);\n    }\n\n    swiper.zoom.isScaling = true;\n  },\n  onGestureChange: function onGestureChange(e) {\n    var swiper = this;\n    var support = swiper.support;\n    var params = swiper.params.zoom;\n    var zoom = swiper.zoom;\n    var gesture = zoom.gesture;\n\n    if (!support.gestures) {\n      if (e.type !== 'touchmove' || e.type === 'touchmove' && e.targetTouches.length < 2) {\n        return;\n      }\n\n      zoom.fakeGestureMoved = true;\n      gesture.scaleMove = Zoom.getDistanceBetweenTouches(e);\n    }\n\n    if (!gesture.$imageEl || gesture.$imageEl.length === 0) {\n      if (e.type === 'gesturechange') zoom.onGestureStart(e);\n      return;\n    }\n\n    if (support.gestures) {\n      zoom.scale = e.scale * zoom.currentScale;\n    } else {\n      zoom.scale = gesture.scaleMove / gesture.scaleStart * zoom.currentScale;\n    }\n\n    if (zoom.scale > gesture.maxRatio) {\n      zoom.scale = gesture.maxRatio - 1 + Math.pow(zoom.scale - gesture.maxRatio + 1, 0.5);\n    }\n\n    if (zoom.scale < params.minRatio) {\n      zoom.scale = params.minRatio + 1 - Math.pow(params.minRatio - zoom.scale + 1, 0.5);\n    }\n\n    gesture.$imageEl.transform(\"translate3d(0,0,0) scale(\" + zoom.scale + \")\");\n  },\n  onGestureEnd: function onGestureEnd(e) {\n    var swiper = this;\n    var device = swiper.device;\n    var support = swiper.support;\n    var params = swiper.params.zoom;\n    var zoom = swiper.zoom;\n    var gesture = zoom.gesture;\n\n    if (!support.gestures) {\n      if (!zoom.fakeGestureTouched || !zoom.fakeGestureMoved) {\n        return;\n      }\n\n      if (e.type !== 'touchend' || e.type === 'touchend' && e.changedTouches.length < 2 && !device.android) {\n        return;\n      }\n\n      zoom.fakeGestureTouched = false;\n      zoom.fakeGestureMoved = false;\n    }\n\n    if (!gesture.$imageEl || gesture.$imageEl.length === 0) return;\n    zoom.scale = Math.max(Math.min(zoom.scale, gesture.maxRatio), params.minRatio);\n    gesture.$imageEl.transition(swiper.params.speed).transform(\"translate3d(0,0,0) scale(\" + zoom.scale + \")\");\n    zoom.currentScale = zoom.scale;\n    zoom.isScaling = false;\n    if (zoom.scale === 1) gesture.$slideEl = undefined;\n  },\n  onTouchStart: function onTouchStart(e) {\n    var swiper = this;\n    var device = swiper.device;\n    var zoom = swiper.zoom;\n    var gesture = zoom.gesture,\n        image = zoom.image;\n    if (!gesture.$imageEl || gesture.$imageEl.length === 0) return;\n    if (image.isTouched) return;\n    if (device.android && e.cancelable) e.preventDefault();\n    image.isTouched = true;\n    image.touchesStart.x = e.type === 'touchstart' ? e.targetTouches[0].pageX : e.pageX;\n    image.touchesStart.y = e.type === 'touchstart' ? e.targetTouches[0].pageY : e.pageY;\n  },\n  onTouchMove: function onTouchMove(e) {\n    var swiper = this;\n    var zoom = swiper.zoom;\n    var gesture = zoom.gesture,\n        image = zoom.image,\n        velocity = zoom.velocity;\n    if (!gesture.$imageEl || gesture.$imageEl.length === 0) return;\n    swiper.allowClick = false;\n    if (!image.isTouched || !gesture.$slideEl) return;\n\n    if (!image.isMoved) {\n      image.width = gesture.$imageEl[0].offsetWidth;\n      image.height = gesture.$imageEl[0].offsetHeight;\n      image.startX = getTranslate(gesture.$imageWrapEl[0], 'x') || 0;\n      image.startY = getTranslate(gesture.$imageWrapEl[0], 'y') || 0;\n      gesture.slideWidth = gesture.$slideEl[0].offsetWidth;\n      gesture.slideHeight = gesture.$slideEl[0].offsetHeight;\n      gesture.$imageWrapEl.transition(0);\n    } // Define if we need image drag\n\n\n    var scaledWidth = image.width * zoom.scale;\n    var scaledHeight = image.height * zoom.scale;\n    if (scaledWidth < gesture.slideWidth && scaledHeight < gesture.slideHeight) return;\n    image.minX = Math.min(gesture.slideWidth / 2 - scaledWidth / 2, 0);\n    image.maxX = -image.minX;\n    image.minY = Math.min(gesture.slideHeight / 2 - scaledHeight / 2, 0);\n    image.maxY = -image.minY;\n    image.touchesCurrent.x = e.type === 'touchmove' ? e.targetTouches[0].pageX : e.pageX;\n    image.touchesCurrent.y = e.type === 'touchmove' ? e.targetTouches[0].pageY : e.pageY;\n\n    if (!image.isMoved && !zoom.isScaling) {\n      if (swiper.isHorizontal() && (Math.floor(image.minX) === Math.floor(image.startX) && image.touchesCurrent.x < image.touchesStart.x || Math.floor(image.maxX) === Math.floor(image.startX) && image.touchesCurrent.x > image.touchesStart.x)) {\n        image.isTouched = false;\n        return;\n      }\n\n      if (!swiper.isHorizontal() && (Math.floor(image.minY) === Math.floor(image.startY) && image.touchesCurrent.y < image.touchesStart.y || Math.floor(image.maxY) === Math.floor(image.startY) && image.touchesCurrent.y > image.touchesStart.y)) {\n        image.isTouched = false;\n        return;\n      }\n    }\n\n    if (e.cancelable) {\n      e.preventDefault();\n    }\n\n    e.stopPropagation();\n    image.isMoved = true;\n    image.currentX = image.touchesCurrent.x - image.touchesStart.x + image.startX;\n    image.currentY = image.touchesCurrent.y - image.touchesStart.y + image.startY;\n\n    if (image.currentX < image.minX) {\n      image.currentX = image.minX + 1 - Math.pow(image.minX - image.currentX + 1, 0.8);\n    }\n\n    if (image.currentX > image.maxX) {\n      image.currentX = image.maxX - 1 + Math.pow(image.currentX - image.maxX + 1, 0.8);\n    }\n\n    if (image.currentY < image.minY) {\n      image.currentY = image.minY + 1 - Math.pow(image.minY - image.currentY + 1, 0.8);\n    }\n\n    if (image.currentY > image.maxY) {\n      image.currentY = image.maxY - 1 + Math.pow(image.currentY - image.maxY + 1, 0.8);\n    } // Velocity\n\n\n    if (!velocity.prevPositionX) velocity.prevPositionX = image.touchesCurrent.x;\n    if (!velocity.prevPositionY) velocity.prevPositionY = image.touchesCurrent.y;\n    if (!velocity.prevTime) velocity.prevTime = Date.now();\n    velocity.x = (image.touchesCurrent.x - velocity.prevPositionX) / (Date.now() - velocity.prevTime) / 2;\n    velocity.y = (image.touchesCurrent.y - velocity.prevPositionY) / (Date.now() - velocity.prevTime) / 2;\n    if (Math.abs(image.touchesCurrent.x - velocity.prevPositionX) < 2) velocity.x = 0;\n    if (Math.abs(image.touchesCurrent.y - velocity.prevPositionY) < 2) velocity.y = 0;\n    velocity.prevPositionX = image.touchesCurrent.x;\n    velocity.prevPositionY = image.touchesCurrent.y;\n    velocity.prevTime = Date.now();\n    gesture.$imageWrapEl.transform(\"translate3d(\" + image.currentX + \"px, \" + image.currentY + \"px,0)\");\n  },\n  onTouchEnd: function onTouchEnd() {\n    var swiper = this;\n    var zoom = swiper.zoom;\n    var gesture = zoom.gesture,\n        image = zoom.image,\n        velocity = zoom.velocity;\n    if (!gesture.$imageEl || gesture.$imageEl.length === 0) return;\n\n    if (!image.isTouched || !image.isMoved) {\n      image.isTouched = false;\n      image.isMoved = false;\n      return;\n    }\n\n    image.isTouched = false;\n    image.isMoved = false;\n    var momentumDurationX = 300;\n    var momentumDurationY = 300;\n    var momentumDistanceX = velocity.x * momentumDurationX;\n    var newPositionX = image.currentX + momentumDistanceX;\n    var momentumDistanceY = velocity.y * momentumDurationY;\n    var newPositionY = image.currentY + momentumDistanceY; // Fix duration\n\n    if (velocity.x !== 0) momentumDurationX = Math.abs((newPositionX - image.currentX) / velocity.x);\n    if (velocity.y !== 0) momentumDurationY = Math.abs((newPositionY - image.currentY) / velocity.y);\n    var momentumDuration = Math.max(momentumDurationX, momentumDurationY);\n    image.currentX = newPositionX;\n    image.currentY = newPositionY; // Define if we need image drag\n\n    var scaledWidth = image.width * zoom.scale;\n    var scaledHeight = image.height * zoom.scale;\n    image.minX = Math.min(gesture.slideWidth / 2 - scaledWidth / 2, 0);\n    image.maxX = -image.minX;\n    image.minY = Math.min(gesture.slideHeight / 2 - scaledHeight / 2, 0);\n    image.maxY = -image.minY;\n    image.currentX = Math.max(Math.min(image.currentX, image.maxX), image.minX);\n    image.currentY = Math.max(Math.min(image.currentY, image.maxY), image.minY);\n    gesture.$imageWrapEl.transition(momentumDuration).transform(\"translate3d(\" + image.currentX + \"px, \" + image.currentY + \"px,0)\");\n  },\n  onTransitionEnd: function onTransitionEnd() {\n    var swiper = this;\n    var zoom = swiper.zoom;\n    var gesture = zoom.gesture;\n\n    if (gesture.$slideEl && swiper.previousIndex !== swiper.activeIndex) {\n      if (gesture.$imageEl) {\n        gesture.$imageEl.transform('translate3d(0,0,0) scale(1)');\n      }\n\n      if (gesture.$imageWrapEl) {\n        gesture.$imageWrapEl.transform('translate3d(0,0,0)');\n      }\n\n      zoom.scale = 1;\n      zoom.currentScale = 1;\n      gesture.$slideEl = undefined;\n      gesture.$imageEl = undefined;\n      gesture.$imageWrapEl = undefined;\n    }\n  },\n  // Toggle Zoom\n  toggle: function toggle(e) {\n    var swiper = this;\n    var zoom = swiper.zoom;\n\n    if (zoom.scale && zoom.scale !== 1) {\n      // Zoom Out\n      zoom.out();\n    } else {\n      // Zoom In\n      zoom.in(e);\n    }\n  },\n  in: function _in(e) {\n    var swiper = this;\n    var window = getWindow();\n    var zoom = swiper.zoom;\n    var params = swiper.params.zoom;\n    var gesture = zoom.gesture,\n        image = zoom.image;\n\n    if (!gesture.$slideEl) {\n      if (e && e.target) {\n        gesture.$slideEl = $(e.target).closest(\".\" + swiper.params.slideClass);\n      }\n\n      if (!gesture.$slideEl) {\n        if (swiper.params.virtual && swiper.params.virtual.enabled && swiper.virtual) {\n          gesture.$slideEl = swiper.$wrapperEl.children(\".\" + swiper.params.slideActiveClass);\n        } else {\n          gesture.$slideEl = swiper.slides.eq(swiper.activeIndex);\n        }\n      }\n\n      gesture.$imageEl = gesture.$slideEl.find('img, svg, canvas, picture, .swiper-zoom-target');\n      gesture.$imageWrapEl = gesture.$imageEl.parent(\".\" + params.containerClass);\n    }\n\n    if (!gesture.$imageEl || gesture.$imageEl.length === 0 || !gesture.$imageWrapEl || gesture.$imageWrapEl.length === 0) return;\n    gesture.$slideEl.addClass(\"\" + params.zoomedSlideClass);\n    var touchX;\n    var touchY;\n    var offsetX;\n    var offsetY;\n    var diffX;\n    var diffY;\n    var translateX;\n    var translateY;\n    var imageWidth;\n    var imageHeight;\n    var scaledWidth;\n    var scaledHeight;\n    var translateMinX;\n    var translateMinY;\n    var translateMaxX;\n    var translateMaxY;\n    var slideWidth;\n    var slideHeight;\n\n    if (typeof image.touchesStart.x === 'undefined' && e) {\n      touchX = e.type === 'touchend' ? e.changedTouches[0].pageX : e.pageX;\n      touchY = e.type === 'touchend' ? e.changedTouches[0].pageY : e.pageY;\n    } else {\n      touchX = image.touchesStart.x;\n      touchY = image.touchesStart.y;\n    }\n\n    zoom.scale = gesture.$imageWrapEl.attr('data-swiper-zoom') || params.maxRatio;\n    zoom.currentScale = gesture.$imageWrapEl.attr('data-swiper-zoom') || params.maxRatio;\n\n    if (e) {\n      slideWidth = gesture.$slideEl[0].offsetWidth;\n      slideHeight = gesture.$slideEl[0].offsetHeight;\n      offsetX = gesture.$slideEl.offset().left + window.scrollX;\n      offsetY = gesture.$slideEl.offset().top + window.scrollY;\n      diffX = offsetX + slideWidth / 2 - touchX;\n      diffY = offsetY + slideHeight / 2 - touchY;\n      imageWidth = gesture.$imageEl[0].offsetWidth;\n      imageHeight = gesture.$imageEl[0].offsetHeight;\n      scaledWidth = imageWidth * zoom.scale;\n      scaledHeight = imageHeight * zoom.scale;\n      translateMinX = Math.min(slideWidth / 2 - scaledWidth / 2, 0);\n      translateMinY = Math.min(slideHeight / 2 - scaledHeight / 2, 0);\n      translateMaxX = -translateMinX;\n      translateMaxY = -translateMinY;\n      translateX = diffX * zoom.scale;\n      translateY = diffY * zoom.scale;\n\n      if (translateX < translateMinX) {\n        translateX = translateMinX;\n      }\n\n      if (translateX > translateMaxX) {\n        translateX = translateMaxX;\n      }\n\n      if (translateY < translateMinY) {\n        translateY = translateMinY;\n      }\n\n      if (translateY > translateMaxY) {\n        translateY = translateMaxY;\n      }\n    } else {\n      translateX = 0;\n      translateY = 0;\n    }\n\n    gesture.$imageWrapEl.transition(300).transform(\"translate3d(\" + translateX + \"px, \" + translateY + \"px,0)\");\n    gesture.$imageEl.transition(300).transform(\"translate3d(0,0,0) scale(\" + zoom.scale + \")\");\n  },\n  out: function out() {\n    var swiper = this;\n    var zoom = swiper.zoom;\n    var params = swiper.params.zoom;\n    var gesture = zoom.gesture;\n\n    if (!gesture.$slideEl) {\n      if (swiper.params.virtual && swiper.params.virtual.enabled && swiper.virtual) {\n        gesture.$slideEl = swiper.$wrapperEl.children(\".\" + swiper.params.slideActiveClass);\n      } else {\n        gesture.$slideEl = swiper.slides.eq(swiper.activeIndex);\n      }\n\n      gesture.$imageEl = gesture.$slideEl.find('img, svg, canvas, picture, .swiper-zoom-target');\n      gesture.$imageWrapEl = gesture.$imageEl.parent(\".\" + params.containerClass);\n    }\n\n    if (!gesture.$imageEl || gesture.$imageEl.length === 0 || !gesture.$imageWrapEl || gesture.$imageWrapEl.length === 0) return;\n    zoom.scale = 1;\n    zoom.currentScale = 1;\n    gesture.$imageWrapEl.transition(300).transform('translate3d(0,0,0)');\n    gesture.$imageEl.transition(300).transform('translate3d(0,0,0) scale(1)');\n    gesture.$slideEl.removeClass(\"\" + params.zoomedSlideClass);\n    gesture.$slideEl = undefined;\n  },\n  toggleGestures: function toggleGestures(method) {\n    var swiper = this;\n    var zoom = swiper.zoom;\n    var selector = zoom.slideSelector,\n        passive = zoom.passiveListener;\n    swiper.$wrapperEl[method]('gesturestart', selector, zoom.onGestureStart, passive);\n    swiper.$wrapperEl[method]('gesturechange', selector, zoom.onGestureChange, passive);\n    swiper.$wrapperEl[method]('gestureend', selector, zoom.onGestureEnd, passive);\n  },\n  enableGestures: function enableGestures() {\n    if (this.zoom.gesturesEnabled) return;\n    this.zoom.gesturesEnabled = true;\n    this.zoom.toggleGestures('on');\n  },\n  disableGestures: function disableGestures() {\n    if (!this.zoom.gesturesEnabled) return;\n    this.zoom.gesturesEnabled = false;\n    this.zoom.toggleGestures('off');\n  },\n  // Attach/Detach Events\n  enable: function enable() {\n    var swiper = this;\n    var support = swiper.support;\n    var zoom = swiper.zoom;\n    if (zoom.enabled) return;\n    zoom.enabled = true;\n    var passiveListener = swiper.touchEvents.start === 'touchstart' && support.passiveListener && swiper.params.passiveListeners ? {\n      passive: true,\n      capture: false\n    } : false;\n    var activeListenerWithCapture = support.passiveListener ? {\n      passive: false,\n      capture: true\n    } : true;\n    var slideSelector = \".\" + swiper.params.slideClass;\n    swiper.zoom.passiveListener = passiveListener;\n    swiper.zoom.slideSelector = slideSelector; // Scale image\n\n    if (support.gestures) {\n      swiper.$wrapperEl.on(swiper.touchEvents.start, swiper.zoom.enableGestures, passiveListener);\n      swiper.$wrapperEl.on(swiper.touchEvents.end, swiper.zoom.disableGestures, passiveListener);\n    } else if (swiper.touchEvents.start === 'touchstart') {\n      swiper.$wrapperEl.on(swiper.touchEvents.start, slideSelector, zoom.onGestureStart, passiveListener);\n      swiper.$wrapperEl.on(swiper.touchEvents.move, slideSelector, zoom.onGestureChange, activeListenerWithCapture);\n      swiper.$wrapperEl.on(swiper.touchEvents.end, slideSelector, zoom.onGestureEnd, passiveListener);\n\n      if (swiper.touchEvents.cancel) {\n        swiper.$wrapperEl.on(swiper.touchEvents.cancel, slideSelector, zoom.onGestureEnd, passiveListener);\n      }\n    } // Move image\n\n\n    swiper.$wrapperEl.on(swiper.touchEvents.move, \".\" + swiper.params.zoom.containerClass, zoom.onTouchMove, activeListenerWithCapture);\n  },\n  disable: function disable() {\n    var swiper = this;\n    var zoom = swiper.zoom;\n    if (!zoom.enabled) return;\n    var support = swiper.support;\n    swiper.zoom.enabled = false;\n    var passiveListener = swiper.touchEvents.start === 'touchstart' && support.passiveListener && swiper.params.passiveListeners ? {\n      passive: true,\n      capture: false\n    } : false;\n    var activeListenerWithCapture = support.passiveListener ? {\n      passive: false,\n      capture: true\n    } : true;\n    var slideSelector = \".\" + swiper.params.slideClass; // Scale image\n\n    if (support.gestures) {\n      swiper.$wrapperEl.off(swiper.touchEvents.start, swiper.zoom.enableGestures, passiveListener);\n      swiper.$wrapperEl.off(swiper.touchEvents.end, swiper.zoom.disableGestures, passiveListener);\n    } else if (swiper.touchEvents.start === 'touchstart') {\n      swiper.$wrapperEl.off(swiper.touchEvents.start, slideSelector, zoom.onGestureStart, passiveListener);\n      swiper.$wrapperEl.off(swiper.touchEvents.move, slideSelector, zoom.onGestureChange, activeListenerWithCapture);\n      swiper.$wrapperEl.off(swiper.touchEvents.end, slideSelector, zoom.onGestureEnd, passiveListener);\n\n      if (swiper.touchEvents.cancel) {\n        swiper.$wrapperEl.off(swiper.touchEvents.cancel, slideSelector, zoom.onGestureEnd, passiveListener);\n      }\n    } // Move image\n\n\n    swiper.$wrapperEl.off(swiper.touchEvents.move, \".\" + swiper.params.zoom.containerClass, zoom.onTouchMove, activeListenerWithCapture);\n  }\n};\nexport default {\n  name: 'zoom',\n  params: {\n    zoom: {\n      enabled: false,\n      maxRatio: 3,\n      minRatio: 1,\n      toggle: true,\n      containerClass: 'swiper-zoom-container',\n      zoomedSlideClass: 'swiper-slide-zoomed'\n    }\n  },\n  create: function create() {\n    var swiper = this;\n    bindModuleMethods(swiper, {\n      zoom: _extends({\n        enabled: false,\n        scale: 1,\n        currentScale: 1,\n        isScaling: false,\n        gesture: {\n          $slideEl: undefined,\n          slideWidth: undefined,\n          slideHeight: undefined,\n          $imageEl: undefined,\n          $imageWrapEl: undefined,\n          maxRatio: 3\n        },\n        image: {\n          isTouched: undefined,\n          isMoved: undefined,\n          currentX: undefined,\n          currentY: undefined,\n          minX: undefined,\n          minY: undefined,\n          maxX: undefined,\n          maxY: undefined,\n          width: undefined,\n          height: undefined,\n          startX: undefined,\n          startY: undefined,\n          touchesStart: {},\n          touchesCurrent: {}\n        },\n        velocity: {\n          x: undefined,\n          y: undefined,\n          prevPositionX: undefined,\n          prevPositionY: undefined,\n          prevTime: undefined\n        }\n      }, Zoom)\n    });\n    var scale = 1;\n    Object.defineProperty(swiper.zoom, 'scale', {\n      get: function get() {\n        return scale;\n      },\n      set: function set(value) {\n        if (scale !== value) {\n          var imageEl = swiper.zoom.gesture.$imageEl ? swiper.zoom.gesture.$imageEl[0] : undefined;\n          var slideEl = swiper.zoom.gesture.$slideEl ? swiper.zoom.gesture.$slideEl[0] : undefined;\n          swiper.emit('zoomChange', value, imageEl, slideEl);\n        }\n\n        scale = value;\n      }\n    });\n  },\n  on: {\n    init: function init(swiper) {\n      if (swiper.params.zoom.enabled) {\n        swiper.zoom.enable();\n      }\n    },\n    destroy: function destroy(swiper) {\n      swiper.zoom.disable();\n    },\n    touchStart: function touchStart(swiper, e) {\n      if (!swiper.zoom.enabled) return;\n      swiper.zoom.onTouchStart(e);\n    },\n    touchEnd: function touchEnd(swiper, e) {\n      if (!swiper.zoom.enabled) return;\n      swiper.zoom.onTouchEnd(e);\n    },\n    doubleTap: function doubleTap(swiper, e) {\n      if (!swiper.animating && swiper.params.zoom.enabled && swiper.zoom.enabled && swiper.params.zoom.toggle) {\n        swiper.zoom.toggle(e);\n      }\n    },\n    transitionEnd: function transitionEnd(swiper) {\n      if (swiper.zoom.enabled && swiper.params.zoom.enabled) {\n        swiper.zoom.onTransitionEnd();\n      }\n    },\n    slideChange: function slideChange(swiper) {\n      if (swiper.zoom.enabled && swiper.params.zoom.enabled && swiper.params.cssMode) {\n        swiper.zoom.onTransitionEnd();\n      }\n    }\n  }\n};","map":{"version":3,"names":["_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","getWindow","$","bindModuleMethods","getTranslate","Zoom","getDistanceBetweenTouches","e","targetTouches","x1","pageX","y1","pageY","x2","y2","distance","Math","sqrt","pow","onGestureStart","swiper","support","params","zoom","gesture","fakeGestureTouched","fakeGestureMoved","gestures","type","scaleStart","$slideEl","closest","slideClass","slides","eq","activeIndex","$imageEl","find","$imageWrapEl","parent","containerClass","maxRatio","attr","undefined","transition","isScaling","onGestureChange","scaleMove","scale","currentScale","minRatio","transform","onGestureEnd","device","changedTouches","android","max","min","speed","onTouchStart","image","isTouched","cancelable","preventDefault","touchesStart","x","y","onTouchMove","velocity","allowClick","isMoved","width","offsetWidth","height","offsetHeight","startX","startY","slideWidth","slideHeight","scaledWidth","scaledHeight","minX","maxX","minY","maxY","touchesCurrent","isHorizontal","floor","stopPropagation","currentX","currentY","prevPositionX","prevPositionY","prevTime","Date","now","abs","onTouchEnd","momentumDurationX","momentumDurationY","momentumDistanceX","newPositionX","momentumDistanceY","newPositionY","momentumDuration","onTransitionEnd","previousIndex","toggle","out","in","_in","window","virtual","enabled","$wrapperEl","children","slideActiveClass","addClass","zoomedSlideClass","touchX","touchY","offsetX","offsetY","diffX","diffY","translateX","translateY","imageWidth","imageHeight","translateMinX","translateMinY","translateMaxX","translateMaxY","offset","left","scrollX","top","scrollY","removeClass","toggleGestures","method","selector","slideSelector","passive","passiveListener","enableGestures","gesturesEnabled","disableGestures","enable","touchEvents","start","passiveListeners","capture","activeListenerWithCapture","on","end","move","cancel","disable","off","name","create","defineProperty","get","set","value","imageEl","slideEl","emit","init","destroy","touchStart","touchEnd","doubleTap","animating","transitionEnd","slideChange","cssMode"],"sources":["E:/netflix_clone02-main/app/node_modules/swiper/esm/components/zoom/zoom.js"],"sourcesContent":["function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport { getWindow } from 'ssr-window';\nimport $ from '../../utils/dom';\nimport { bindModuleMethods, getTranslate } from '../../utils/utils';\nvar Zoom = {\n  // Calc Scale From Multi-touches\n  getDistanceBetweenTouches: function getDistanceBetweenTouches(e) {\n    if (e.targetTouches.length < 2) return 1;\n    var x1 = e.targetTouches[0].pageX;\n    var y1 = e.targetTouches[0].pageY;\n    var x2 = e.targetTouches[1].pageX;\n    var y2 = e.targetTouches[1].pageY;\n    var distance = Math.sqrt(Math.pow(x2 - x1, 2) + Math.pow(y2 - y1, 2));\n    return distance;\n  },\n  // Events\n  onGestureStart: function onGestureStart(e) {\n    var swiper = this;\n    var support = swiper.support;\n    var params = swiper.params.zoom;\n    var zoom = swiper.zoom;\n    var gesture = zoom.gesture;\n    zoom.fakeGestureTouched = false;\n    zoom.fakeGestureMoved = false;\n\n    if (!support.gestures) {\n      if (e.type !== 'touchstart' || e.type === 'touchstart' && e.targetTouches.length < 2) {\n        return;\n      }\n\n      zoom.fakeGestureTouched = true;\n      gesture.scaleStart = Zoom.getDistanceBetweenTouches(e);\n    }\n\n    if (!gesture.$slideEl || !gesture.$slideEl.length) {\n      gesture.$slideEl = $(e.target).closest(\".\" + swiper.params.slideClass);\n      if (gesture.$slideEl.length === 0) gesture.$slideEl = swiper.slides.eq(swiper.activeIndex);\n      gesture.$imageEl = gesture.$slideEl.find('img, svg, canvas, picture, .swiper-zoom-target');\n      gesture.$imageWrapEl = gesture.$imageEl.parent(\".\" + params.containerClass);\n      gesture.maxRatio = gesture.$imageWrapEl.attr('data-swiper-zoom') || params.maxRatio;\n\n      if (gesture.$imageWrapEl.length === 0) {\n        gesture.$imageEl = undefined;\n        return;\n      }\n    }\n\n    if (gesture.$imageEl) {\n      gesture.$imageEl.transition(0);\n    }\n\n    swiper.zoom.isScaling = true;\n  },\n  onGestureChange: function onGestureChange(e) {\n    var swiper = this;\n    var support = swiper.support;\n    var params = swiper.params.zoom;\n    var zoom = swiper.zoom;\n    var gesture = zoom.gesture;\n\n    if (!support.gestures) {\n      if (e.type !== 'touchmove' || e.type === 'touchmove' && e.targetTouches.length < 2) {\n        return;\n      }\n\n      zoom.fakeGestureMoved = true;\n      gesture.scaleMove = Zoom.getDistanceBetweenTouches(e);\n    }\n\n    if (!gesture.$imageEl || gesture.$imageEl.length === 0) {\n      if (e.type === 'gesturechange') zoom.onGestureStart(e);\n      return;\n    }\n\n    if (support.gestures) {\n      zoom.scale = e.scale * zoom.currentScale;\n    } else {\n      zoom.scale = gesture.scaleMove / gesture.scaleStart * zoom.currentScale;\n    }\n\n    if (zoom.scale > gesture.maxRatio) {\n      zoom.scale = gesture.maxRatio - 1 + Math.pow(zoom.scale - gesture.maxRatio + 1, 0.5);\n    }\n\n    if (zoom.scale < params.minRatio) {\n      zoom.scale = params.minRatio + 1 - Math.pow(params.minRatio - zoom.scale + 1, 0.5);\n    }\n\n    gesture.$imageEl.transform(\"translate3d(0,0,0) scale(\" + zoom.scale + \")\");\n  },\n  onGestureEnd: function onGestureEnd(e) {\n    var swiper = this;\n    var device = swiper.device;\n    var support = swiper.support;\n    var params = swiper.params.zoom;\n    var zoom = swiper.zoom;\n    var gesture = zoom.gesture;\n\n    if (!support.gestures) {\n      if (!zoom.fakeGestureTouched || !zoom.fakeGestureMoved) {\n        return;\n      }\n\n      if (e.type !== 'touchend' || e.type === 'touchend' && e.changedTouches.length < 2 && !device.android) {\n        return;\n      }\n\n      zoom.fakeGestureTouched = false;\n      zoom.fakeGestureMoved = false;\n    }\n\n    if (!gesture.$imageEl || gesture.$imageEl.length === 0) return;\n    zoom.scale = Math.max(Math.min(zoom.scale, gesture.maxRatio), params.minRatio);\n    gesture.$imageEl.transition(swiper.params.speed).transform(\"translate3d(0,0,0) scale(\" + zoom.scale + \")\");\n    zoom.currentScale = zoom.scale;\n    zoom.isScaling = false;\n    if (zoom.scale === 1) gesture.$slideEl = undefined;\n  },\n  onTouchStart: function onTouchStart(e) {\n    var swiper = this;\n    var device = swiper.device;\n    var zoom = swiper.zoom;\n    var gesture = zoom.gesture,\n        image = zoom.image;\n    if (!gesture.$imageEl || gesture.$imageEl.length === 0) return;\n    if (image.isTouched) return;\n    if (device.android && e.cancelable) e.preventDefault();\n    image.isTouched = true;\n    image.touchesStart.x = e.type === 'touchstart' ? e.targetTouches[0].pageX : e.pageX;\n    image.touchesStart.y = e.type === 'touchstart' ? e.targetTouches[0].pageY : e.pageY;\n  },\n  onTouchMove: function onTouchMove(e) {\n    var swiper = this;\n    var zoom = swiper.zoom;\n    var gesture = zoom.gesture,\n        image = zoom.image,\n        velocity = zoom.velocity;\n    if (!gesture.$imageEl || gesture.$imageEl.length === 0) return;\n    swiper.allowClick = false;\n    if (!image.isTouched || !gesture.$slideEl) return;\n\n    if (!image.isMoved) {\n      image.width = gesture.$imageEl[0].offsetWidth;\n      image.height = gesture.$imageEl[0].offsetHeight;\n      image.startX = getTranslate(gesture.$imageWrapEl[0], 'x') || 0;\n      image.startY = getTranslate(gesture.$imageWrapEl[0], 'y') || 0;\n      gesture.slideWidth = gesture.$slideEl[0].offsetWidth;\n      gesture.slideHeight = gesture.$slideEl[0].offsetHeight;\n      gesture.$imageWrapEl.transition(0);\n    } // Define if we need image drag\n\n\n    var scaledWidth = image.width * zoom.scale;\n    var scaledHeight = image.height * zoom.scale;\n    if (scaledWidth < gesture.slideWidth && scaledHeight < gesture.slideHeight) return;\n    image.minX = Math.min(gesture.slideWidth / 2 - scaledWidth / 2, 0);\n    image.maxX = -image.minX;\n    image.minY = Math.min(gesture.slideHeight / 2 - scaledHeight / 2, 0);\n    image.maxY = -image.minY;\n    image.touchesCurrent.x = e.type === 'touchmove' ? e.targetTouches[0].pageX : e.pageX;\n    image.touchesCurrent.y = e.type === 'touchmove' ? e.targetTouches[0].pageY : e.pageY;\n\n    if (!image.isMoved && !zoom.isScaling) {\n      if (swiper.isHorizontal() && (Math.floor(image.minX) === Math.floor(image.startX) && image.touchesCurrent.x < image.touchesStart.x || Math.floor(image.maxX) === Math.floor(image.startX) && image.touchesCurrent.x > image.touchesStart.x)) {\n        image.isTouched = false;\n        return;\n      }\n\n      if (!swiper.isHorizontal() && (Math.floor(image.minY) === Math.floor(image.startY) && image.touchesCurrent.y < image.touchesStart.y || Math.floor(image.maxY) === Math.floor(image.startY) && image.touchesCurrent.y > image.touchesStart.y)) {\n        image.isTouched = false;\n        return;\n      }\n    }\n\n    if (e.cancelable) {\n      e.preventDefault();\n    }\n\n    e.stopPropagation();\n    image.isMoved = true;\n    image.currentX = image.touchesCurrent.x - image.touchesStart.x + image.startX;\n    image.currentY = image.touchesCurrent.y - image.touchesStart.y + image.startY;\n\n    if (image.currentX < image.minX) {\n      image.currentX = image.minX + 1 - Math.pow(image.minX - image.currentX + 1, 0.8);\n    }\n\n    if (image.currentX > image.maxX) {\n      image.currentX = image.maxX - 1 + Math.pow(image.currentX - image.maxX + 1, 0.8);\n    }\n\n    if (image.currentY < image.minY) {\n      image.currentY = image.minY + 1 - Math.pow(image.minY - image.currentY + 1, 0.8);\n    }\n\n    if (image.currentY > image.maxY) {\n      image.currentY = image.maxY - 1 + Math.pow(image.currentY - image.maxY + 1, 0.8);\n    } // Velocity\n\n\n    if (!velocity.prevPositionX) velocity.prevPositionX = image.touchesCurrent.x;\n    if (!velocity.prevPositionY) velocity.prevPositionY = image.touchesCurrent.y;\n    if (!velocity.prevTime) velocity.prevTime = Date.now();\n    velocity.x = (image.touchesCurrent.x - velocity.prevPositionX) / (Date.now() - velocity.prevTime) / 2;\n    velocity.y = (image.touchesCurrent.y - velocity.prevPositionY) / (Date.now() - velocity.prevTime) / 2;\n    if (Math.abs(image.touchesCurrent.x - velocity.prevPositionX) < 2) velocity.x = 0;\n    if (Math.abs(image.touchesCurrent.y - velocity.prevPositionY) < 2) velocity.y = 0;\n    velocity.prevPositionX = image.touchesCurrent.x;\n    velocity.prevPositionY = image.touchesCurrent.y;\n    velocity.prevTime = Date.now();\n    gesture.$imageWrapEl.transform(\"translate3d(\" + image.currentX + \"px, \" + image.currentY + \"px,0)\");\n  },\n  onTouchEnd: function onTouchEnd() {\n    var swiper = this;\n    var zoom = swiper.zoom;\n    var gesture = zoom.gesture,\n        image = zoom.image,\n        velocity = zoom.velocity;\n    if (!gesture.$imageEl || gesture.$imageEl.length === 0) return;\n\n    if (!image.isTouched || !image.isMoved) {\n      image.isTouched = false;\n      image.isMoved = false;\n      return;\n    }\n\n    image.isTouched = false;\n    image.isMoved = false;\n    var momentumDurationX = 300;\n    var momentumDurationY = 300;\n    var momentumDistanceX = velocity.x * momentumDurationX;\n    var newPositionX = image.currentX + momentumDistanceX;\n    var momentumDistanceY = velocity.y * momentumDurationY;\n    var newPositionY = image.currentY + momentumDistanceY; // Fix duration\n\n    if (velocity.x !== 0) momentumDurationX = Math.abs((newPositionX - image.currentX) / velocity.x);\n    if (velocity.y !== 0) momentumDurationY = Math.abs((newPositionY - image.currentY) / velocity.y);\n    var momentumDuration = Math.max(momentumDurationX, momentumDurationY);\n    image.currentX = newPositionX;\n    image.currentY = newPositionY; // Define if we need image drag\n\n    var scaledWidth = image.width * zoom.scale;\n    var scaledHeight = image.height * zoom.scale;\n    image.minX = Math.min(gesture.slideWidth / 2 - scaledWidth / 2, 0);\n    image.maxX = -image.minX;\n    image.minY = Math.min(gesture.slideHeight / 2 - scaledHeight / 2, 0);\n    image.maxY = -image.minY;\n    image.currentX = Math.max(Math.min(image.currentX, image.maxX), image.minX);\n    image.currentY = Math.max(Math.min(image.currentY, image.maxY), image.minY);\n    gesture.$imageWrapEl.transition(momentumDuration).transform(\"translate3d(\" + image.currentX + \"px, \" + image.currentY + \"px,0)\");\n  },\n  onTransitionEnd: function onTransitionEnd() {\n    var swiper = this;\n    var zoom = swiper.zoom;\n    var gesture = zoom.gesture;\n\n    if (gesture.$slideEl && swiper.previousIndex !== swiper.activeIndex) {\n      if (gesture.$imageEl) {\n        gesture.$imageEl.transform('translate3d(0,0,0) scale(1)');\n      }\n\n      if (gesture.$imageWrapEl) {\n        gesture.$imageWrapEl.transform('translate3d(0,0,0)');\n      }\n\n      zoom.scale = 1;\n      zoom.currentScale = 1;\n      gesture.$slideEl = undefined;\n      gesture.$imageEl = undefined;\n      gesture.$imageWrapEl = undefined;\n    }\n  },\n  // Toggle Zoom\n  toggle: function toggle(e) {\n    var swiper = this;\n    var zoom = swiper.zoom;\n\n    if (zoom.scale && zoom.scale !== 1) {\n      // Zoom Out\n      zoom.out();\n    } else {\n      // Zoom In\n      zoom.in(e);\n    }\n  },\n  in: function _in(e) {\n    var swiper = this;\n    var window = getWindow();\n    var zoom = swiper.zoom;\n    var params = swiper.params.zoom;\n    var gesture = zoom.gesture,\n        image = zoom.image;\n\n    if (!gesture.$slideEl) {\n      if (e && e.target) {\n        gesture.$slideEl = $(e.target).closest(\".\" + swiper.params.slideClass);\n      }\n\n      if (!gesture.$slideEl) {\n        if (swiper.params.virtual && swiper.params.virtual.enabled && swiper.virtual) {\n          gesture.$slideEl = swiper.$wrapperEl.children(\".\" + swiper.params.slideActiveClass);\n        } else {\n          gesture.$slideEl = swiper.slides.eq(swiper.activeIndex);\n        }\n      }\n\n      gesture.$imageEl = gesture.$slideEl.find('img, svg, canvas, picture, .swiper-zoom-target');\n      gesture.$imageWrapEl = gesture.$imageEl.parent(\".\" + params.containerClass);\n    }\n\n    if (!gesture.$imageEl || gesture.$imageEl.length === 0 || !gesture.$imageWrapEl || gesture.$imageWrapEl.length === 0) return;\n    gesture.$slideEl.addClass(\"\" + params.zoomedSlideClass);\n    var touchX;\n    var touchY;\n    var offsetX;\n    var offsetY;\n    var diffX;\n    var diffY;\n    var translateX;\n    var translateY;\n    var imageWidth;\n    var imageHeight;\n    var scaledWidth;\n    var scaledHeight;\n    var translateMinX;\n    var translateMinY;\n    var translateMaxX;\n    var translateMaxY;\n    var slideWidth;\n    var slideHeight;\n\n    if (typeof image.touchesStart.x === 'undefined' && e) {\n      touchX = e.type === 'touchend' ? e.changedTouches[0].pageX : e.pageX;\n      touchY = e.type === 'touchend' ? e.changedTouches[0].pageY : e.pageY;\n    } else {\n      touchX = image.touchesStart.x;\n      touchY = image.touchesStart.y;\n    }\n\n    zoom.scale = gesture.$imageWrapEl.attr('data-swiper-zoom') || params.maxRatio;\n    zoom.currentScale = gesture.$imageWrapEl.attr('data-swiper-zoom') || params.maxRatio;\n\n    if (e) {\n      slideWidth = gesture.$slideEl[0].offsetWidth;\n      slideHeight = gesture.$slideEl[0].offsetHeight;\n      offsetX = gesture.$slideEl.offset().left + window.scrollX;\n      offsetY = gesture.$slideEl.offset().top + window.scrollY;\n      diffX = offsetX + slideWidth / 2 - touchX;\n      diffY = offsetY + slideHeight / 2 - touchY;\n      imageWidth = gesture.$imageEl[0].offsetWidth;\n      imageHeight = gesture.$imageEl[0].offsetHeight;\n      scaledWidth = imageWidth * zoom.scale;\n      scaledHeight = imageHeight * zoom.scale;\n      translateMinX = Math.min(slideWidth / 2 - scaledWidth / 2, 0);\n      translateMinY = Math.min(slideHeight / 2 - scaledHeight / 2, 0);\n      translateMaxX = -translateMinX;\n      translateMaxY = -translateMinY;\n      translateX = diffX * zoom.scale;\n      translateY = diffY * zoom.scale;\n\n      if (translateX < translateMinX) {\n        translateX = translateMinX;\n      }\n\n      if (translateX > translateMaxX) {\n        translateX = translateMaxX;\n      }\n\n      if (translateY < translateMinY) {\n        translateY = translateMinY;\n      }\n\n      if (translateY > translateMaxY) {\n        translateY = translateMaxY;\n      }\n    } else {\n      translateX = 0;\n      translateY = 0;\n    }\n\n    gesture.$imageWrapEl.transition(300).transform(\"translate3d(\" + translateX + \"px, \" + translateY + \"px,0)\");\n    gesture.$imageEl.transition(300).transform(\"translate3d(0,0,0) scale(\" + zoom.scale + \")\");\n  },\n  out: function out() {\n    var swiper = this;\n    var zoom = swiper.zoom;\n    var params = swiper.params.zoom;\n    var gesture = zoom.gesture;\n\n    if (!gesture.$slideEl) {\n      if (swiper.params.virtual && swiper.params.virtual.enabled && swiper.virtual) {\n        gesture.$slideEl = swiper.$wrapperEl.children(\".\" + swiper.params.slideActiveClass);\n      } else {\n        gesture.$slideEl = swiper.slides.eq(swiper.activeIndex);\n      }\n\n      gesture.$imageEl = gesture.$slideEl.find('img, svg, canvas, picture, .swiper-zoom-target');\n      gesture.$imageWrapEl = gesture.$imageEl.parent(\".\" + params.containerClass);\n    }\n\n    if (!gesture.$imageEl || gesture.$imageEl.length === 0 || !gesture.$imageWrapEl || gesture.$imageWrapEl.length === 0) return;\n    zoom.scale = 1;\n    zoom.currentScale = 1;\n    gesture.$imageWrapEl.transition(300).transform('translate3d(0,0,0)');\n    gesture.$imageEl.transition(300).transform('translate3d(0,0,0) scale(1)');\n    gesture.$slideEl.removeClass(\"\" + params.zoomedSlideClass);\n    gesture.$slideEl = undefined;\n  },\n  toggleGestures: function toggleGestures(method) {\n    var swiper = this;\n    var zoom = swiper.zoom;\n    var selector = zoom.slideSelector,\n        passive = zoom.passiveListener;\n    swiper.$wrapperEl[method]('gesturestart', selector, zoom.onGestureStart, passive);\n    swiper.$wrapperEl[method]('gesturechange', selector, zoom.onGestureChange, passive);\n    swiper.$wrapperEl[method]('gestureend', selector, zoom.onGestureEnd, passive);\n  },\n  enableGestures: function enableGestures() {\n    if (this.zoom.gesturesEnabled) return;\n    this.zoom.gesturesEnabled = true;\n    this.zoom.toggleGestures('on');\n  },\n  disableGestures: function disableGestures() {\n    if (!this.zoom.gesturesEnabled) return;\n    this.zoom.gesturesEnabled = false;\n    this.zoom.toggleGestures('off');\n  },\n  // Attach/Detach Events\n  enable: function enable() {\n    var swiper = this;\n    var support = swiper.support;\n    var zoom = swiper.zoom;\n    if (zoom.enabled) return;\n    zoom.enabled = true;\n    var passiveListener = swiper.touchEvents.start === 'touchstart' && support.passiveListener && swiper.params.passiveListeners ? {\n      passive: true,\n      capture: false\n    } : false;\n    var activeListenerWithCapture = support.passiveListener ? {\n      passive: false,\n      capture: true\n    } : true;\n    var slideSelector = \".\" + swiper.params.slideClass;\n    swiper.zoom.passiveListener = passiveListener;\n    swiper.zoom.slideSelector = slideSelector; // Scale image\n\n    if (support.gestures) {\n      swiper.$wrapperEl.on(swiper.touchEvents.start, swiper.zoom.enableGestures, passiveListener);\n      swiper.$wrapperEl.on(swiper.touchEvents.end, swiper.zoom.disableGestures, passiveListener);\n    } else if (swiper.touchEvents.start === 'touchstart') {\n      swiper.$wrapperEl.on(swiper.touchEvents.start, slideSelector, zoom.onGestureStart, passiveListener);\n      swiper.$wrapperEl.on(swiper.touchEvents.move, slideSelector, zoom.onGestureChange, activeListenerWithCapture);\n      swiper.$wrapperEl.on(swiper.touchEvents.end, slideSelector, zoom.onGestureEnd, passiveListener);\n\n      if (swiper.touchEvents.cancel) {\n        swiper.$wrapperEl.on(swiper.touchEvents.cancel, slideSelector, zoom.onGestureEnd, passiveListener);\n      }\n    } // Move image\n\n\n    swiper.$wrapperEl.on(swiper.touchEvents.move, \".\" + swiper.params.zoom.containerClass, zoom.onTouchMove, activeListenerWithCapture);\n  },\n  disable: function disable() {\n    var swiper = this;\n    var zoom = swiper.zoom;\n    if (!zoom.enabled) return;\n    var support = swiper.support;\n    swiper.zoom.enabled = false;\n    var passiveListener = swiper.touchEvents.start === 'touchstart' && support.passiveListener && swiper.params.passiveListeners ? {\n      passive: true,\n      capture: false\n    } : false;\n    var activeListenerWithCapture = support.passiveListener ? {\n      passive: false,\n      capture: true\n    } : true;\n    var slideSelector = \".\" + swiper.params.slideClass; // Scale image\n\n    if (support.gestures) {\n      swiper.$wrapperEl.off(swiper.touchEvents.start, swiper.zoom.enableGestures, passiveListener);\n      swiper.$wrapperEl.off(swiper.touchEvents.end, swiper.zoom.disableGestures, passiveListener);\n    } else if (swiper.touchEvents.start === 'touchstart') {\n      swiper.$wrapperEl.off(swiper.touchEvents.start, slideSelector, zoom.onGestureStart, passiveListener);\n      swiper.$wrapperEl.off(swiper.touchEvents.move, slideSelector, zoom.onGestureChange, activeListenerWithCapture);\n      swiper.$wrapperEl.off(swiper.touchEvents.end, slideSelector, zoom.onGestureEnd, passiveListener);\n\n      if (swiper.touchEvents.cancel) {\n        swiper.$wrapperEl.off(swiper.touchEvents.cancel, slideSelector, zoom.onGestureEnd, passiveListener);\n      }\n    } // Move image\n\n\n    swiper.$wrapperEl.off(swiper.touchEvents.move, \".\" + swiper.params.zoom.containerClass, zoom.onTouchMove, activeListenerWithCapture);\n  }\n};\nexport default {\n  name: 'zoom',\n  params: {\n    zoom: {\n      enabled: false,\n      maxRatio: 3,\n      minRatio: 1,\n      toggle: true,\n      containerClass: 'swiper-zoom-container',\n      zoomedSlideClass: 'swiper-slide-zoomed'\n    }\n  },\n  create: function create() {\n    var swiper = this;\n    bindModuleMethods(swiper, {\n      zoom: _extends({\n        enabled: false,\n        scale: 1,\n        currentScale: 1,\n        isScaling: false,\n        gesture: {\n          $slideEl: undefined,\n          slideWidth: undefined,\n          slideHeight: undefined,\n          $imageEl: undefined,\n          $imageWrapEl: undefined,\n          maxRatio: 3\n        },\n        image: {\n          isTouched: undefined,\n          isMoved: undefined,\n          currentX: undefined,\n          currentY: undefined,\n          minX: undefined,\n          minY: undefined,\n          maxX: undefined,\n          maxY: undefined,\n          width: undefined,\n          height: undefined,\n          startX: undefined,\n          startY: undefined,\n          touchesStart: {},\n          touchesCurrent: {}\n        },\n        velocity: {\n          x: undefined,\n          y: undefined,\n          prevPositionX: undefined,\n          prevPositionY: undefined,\n          prevTime: undefined\n        }\n      }, Zoom)\n    });\n    var scale = 1;\n    Object.defineProperty(swiper.zoom, 'scale', {\n      get: function get() {\n        return scale;\n      },\n      set: function set(value) {\n        if (scale !== value) {\n          var imageEl = swiper.zoom.gesture.$imageEl ? swiper.zoom.gesture.$imageEl[0] : undefined;\n          var slideEl = swiper.zoom.gesture.$slideEl ? swiper.zoom.gesture.$slideEl[0] : undefined;\n          swiper.emit('zoomChange', value, imageEl, slideEl);\n        }\n\n        scale = value;\n      }\n    });\n  },\n  on: {\n    init: function init(swiper) {\n      if (swiper.params.zoom.enabled) {\n        swiper.zoom.enable();\n      }\n    },\n    destroy: function destroy(swiper) {\n      swiper.zoom.disable();\n    },\n    touchStart: function touchStart(swiper, e) {\n      if (!swiper.zoom.enabled) return;\n      swiper.zoom.onTouchStart(e);\n    },\n    touchEnd: function touchEnd(swiper, e) {\n      if (!swiper.zoom.enabled) return;\n      swiper.zoom.onTouchEnd(e);\n    },\n    doubleTap: function doubleTap(swiper, e) {\n      if (!swiper.animating && swiper.params.zoom.enabled && swiper.zoom.enabled && swiper.params.zoom.toggle) {\n        swiper.zoom.toggle(e);\n      }\n    },\n    transitionEnd: function transitionEnd(swiper) {\n      if (swiper.zoom.enabled && swiper.params.zoom.enabled) {\n        swiper.zoom.onTransitionEnd();\n      }\n    },\n    slideChange: function slideChange(swiper) {\n      if (swiper.zoom.enabled && swiper.params.zoom.enabled && swiper.params.cssMode) {\n        swiper.zoom.onTransitionEnd();\n      }\n    }\n  }\n};"],"mappings":"AAAA,SAASA,QAAT,GAAoB;EAAEA,QAAQ,GAAGC,MAAM,CAACC,MAAP,IAAiB,UAAUC,MAAV,EAAkB;IAAE,KAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGC,SAAS,CAACC,MAA9B,EAAsCF,CAAC,EAAvC,EAA2C;MAAE,IAAIG,MAAM,GAAGF,SAAS,CAACD,CAAD,CAAtB;;MAA2B,KAAK,IAAII,GAAT,IAAgBD,MAAhB,EAAwB;QAAE,IAAIN,MAAM,CAACQ,SAAP,CAAiBC,cAAjB,CAAgCC,IAAhC,CAAqCJ,MAArC,EAA6CC,GAA7C,CAAJ,EAAuD;UAAEL,MAAM,CAACK,GAAD,CAAN,GAAcD,MAAM,CAACC,GAAD,CAApB;QAA4B;MAAE;IAAE;;IAAC,OAAOL,MAAP;EAAgB,CAA5P;;EAA8P,OAAOH,QAAQ,CAACY,KAAT,CAAe,IAAf,EAAqBP,SAArB,CAAP;AAAyC;;AAE7T,SAASQ,SAAT,QAA0B,YAA1B;AACA,OAAOC,CAAP,MAAc,iBAAd;AACA,SAASC,iBAAT,EAA4BC,YAA5B,QAAgD,mBAAhD;AACA,IAAIC,IAAI,GAAG;EACT;EACAC,yBAAyB,EAAE,SAASA,yBAAT,CAAmCC,CAAnC,EAAsC;IAC/D,IAAIA,CAAC,CAACC,aAAF,CAAgBd,MAAhB,GAAyB,CAA7B,EAAgC,OAAO,CAAP;IAChC,IAAIe,EAAE,GAAGF,CAAC,CAACC,aAAF,CAAgB,CAAhB,EAAmBE,KAA5B;IACA,IAAIC,EAAE,GAAGJ,CAAC,CAACC,aAAF,CAAgB,CAAhB,EAAmBI,KAA5B;IACA,IAAIC,EAAE,GAAGN,CAAC,CAACC,aAAF,CAAgB,CAAhB,EAAmBE,KAA5B;IACA,IAAII,EAAE,GAAGP,CAAC,CAACC,aAAF,CAAgB,CAAhB,EAAmBI,KAA5B;IACA,IAAIG,QAAQ,GAAGC,IAAI,CAACC,IAAL,CAAUD,IAAI,CAACE,GAAL,CAASL,EAAE,GAAGJ,EAAd,EAAkB,CAAlB,IAAuBO,IAAI,CAACE,GAAL,CAASJ,EAAE,GAAGH,EAAd,EAAkB,CAAlB,CAAjC,CAAf;IACA,OAAOI,QAAP;EACD,CAVQ;EAWT;EACAI,cAAc,EAAE,SAASA,cAAT,CAAwBZ,CAAxB,EAA2B;IACzC,IAAIa,MAAM,GAAG,IAAb;IACA,IAAIC,OAAO,GAAGD,MAAM,CAACC,OAArB;IACA,IAAIC,MAAM,GAAGF,MAAM,CAACE,MAAP,CAAcC,IAA3B;IACA,IAAIA,IAAI,GAAGH,MAAM,CAACG,IAAlB;IACA,IAAIC,OAAO,GAAGD,IAAI,CAACC,OAAnB;IACAD,IAAI,CAACE,kBAAL,GAA0B,KAA1B;IACAF,IAAI,CAACG,gBAAL,GAAwB,KAAxB;;IAEA,IAAI,CAACL,OAAO,CAACM,QAAb,EAAuB;MACrB,IAAIpB,CAAC,CAACqB,IAAF,KAAW,YAAX,IAA2BrB,CAAC,CAACqB,IAAF,KAAW,YAAX,IAA2BrB,CAAC,CAACC,aAAF,CAAgBd,MAAhB,GAAyB,CAAnF,EAAsF;QACpF;MACD;;MAED6B,IAAI,CAACE,kBAAL,GAA0B,IAA1B;MACAD,OAAO,CAACK,UAAR,GAAqBxB,IAAI,CAACC,yBAAL,CAA+BC,CAA/B,CAArB;IACD;;IAED,IAAI,CAACiB,OAAO,CAACM,QAAT,IAAqB,CAACN,OAAO,CAACM,QAAR,CAAiBpC,MAA3C,EAAmD;MACjD8B,OAAO,CAACM,QAAR,GAAmB5B,CAAC,CAACK,CAAC,CAAChB,MAAH,CAAD,CAAYwC,OAAZ,CAAoB,MAAMX,MAAM,CAACE,MAAP,CAAcU,UAAxC,CAAnB;MACA,IAAIR,OAAO,CAACM,QAAR,CAAiBpC,MAAjB,KAA4B,CAAhC,EAAmC8B,OAAO,CAACM,QAAR,GAAmBV,MAAM,CAACa,MAAP,CAAcC,EAAd,CAAiBd,MAAM,CAACe,WAAxB,CAAnB;MACnCX,OAAO,CAACY,QAAR,GAAmBZ,OAAO,CAACM,QAAR,CAAiBO,IAAjB,CAAsB,gDAAtB,CAAnB;MACAb,OAAO,CAACc,YAAR,GAAuBd,OAAO,CAACY,QAAR,CAAiBG,MAAjB,CAAwB,MAAMjB,MAAM,CAACkB,cAArC,CAAvB;MACAhB,OAAO,CAACiB,QAAR,GAAmBjB,OAAO,CAACc,YAAR,CAAqBI,IAArB,CAA0B,kBAA1B,KAAiDpB,MAAM,CAACmB,QAA3E;;MAEA,IAAIjB,OAAO,CAACc,YAAR,CAAqB5C,MAArB,KAAgC,CAApC,EAAuC;QACrC8B,OAAO,CAACY,QAAR,GAAmBO,SAAnB;QACA;MACD;IACF;;IAED,IAAInB,OAAO,CAACY,QAAZ,EAAsB;MACpBZ,OAAO,CAACY,QAAR,CAAiBQ,UAAjB,CAA4B,CAA5B;IACD;;IAEDxB,MAAM,CAACG,IAAP,CAAYsB,SAAZ,GAAwB,IAAxB;EACD,CAhDQ;EAiDTC,eAAe,EAAE,SAASA,eAAT,CAAyBvC,CAAzB,EAA4B;IAC3C,IAAIa,MAAM,GAAG,IAAb;IACA,IAAIC,OAAO,GAAGD,MAAM,CAACC,OAArB;IACA,IAAIC,MAAM,GAAGF,MAAM,CAACE,MAAP,CAAcC,IAA3B;IACA,IAAIA,IAAI,GAAGH,MAAM,CAACG,IAAlB;IACA,IAAIC,OAAO,GAAGD,IAAI,CAACC,OAAnB;;IAEA,IAAI,CAACH,OAAO,CAACM,QAAb,EAAuB;MACrB,IAAIpB,CAAC,CAACqB,IAAF,KAAW,WAAX,IAA0BrB,CAAC,CAACqB,IAAF,KAAW,WAAX,IAA0BrB,CAAC,CAACC,aAAF,CAAgBd,MAAhB,GAAyB,CAAjF,EAAoF;QAClF;MACD;;MAED6B,IAAI,CAACG,gBAAL,GAAwB,IAAxB;MACAF,OAAO,CAACuB,SAAR,GAAoB1C,IAAI,CAACC,yBAAL,CAA+BC,CAA/B,CAApB;IACD;;IAED,IAAI,CAACiB,OAAO,CAACY,QAAT,IAAqBZ,OAAO,CAACY,QAAR,CAAiB1C,MAAjB,KAA4B,CAArD,EAAwD;MACtD,IAAIa,CAAC,CAACqB,IAAF,KAAW,eAAf,EAAgCL,IAAI,CAACJ,cAAL,CAAoBZ,CAApB;MAChC;IACD;;IAED,IAAIc,OAAO,CAACM,QAAZ,EAAsB;MACpBJ,IAAI,CAACyB,KAAL,GAAazC,CAAC,CAACyC,KAAF,GAAUzB,IAAI,CAAC0B,YAA5B;IACD,CAFD,MAEO;MACL1B,IAAI,CAACyB,KAAL,GAAaxB,OAAO,CAACuB,SAAR,GAAoBvB,OAAO,CAACK,UAA5B,GAAyCN,IAAI,CAAC0B,YAA3D;IACD;;IAED,IAAI1B,IAAI,CAACyB,KAAL,GAAaxB,OAAO,CAACiB,QAAzB,EAAmC;MACjClB,IAAI,CAACyB,KAAL,GAAaxB,OAAO,CAACiB,QAAR,GAAmB,CAAnB,GAAuBzB,IAAI,CAACE,GAAL,CAASK,IAAI,CAACyB,KAAL,GAAaxB,OAAO,CAACiB,QAArB,GAAgC,CAAzC,EAA4C,GAA5C,CAApC;IACD;;IAED,IAAIlB,IAAI,CAACyB,KAAL,GAAa1B,MAAM,CAAC4B,QAAxB,EAAkC;MAChC3B,IAAI,CAACyB,KAAL,GAAa1B,MAAM,CAAC4B,QAAP,GAAkB,CAAlB,GAAsBlC,IAAI,CAACE,GAAL,CAASI,MAAM,CAAC4B,QAAP,GAAkB3B,IAAI,CAACyB,KAAvB,GAA+B,CAAxC,EAA2C,GAA3C,CAAnC;IACD;;IAEDxB,OAAO,CAACY,QAAR,CAAiBe,SAAjB,CAA2B,8BAA8B5B,IAAI,CAACyB,KAAnC,GAA2C,GAAtE;EACD,CArFQ;EAsFTI,YAAY,EAAE,SAASA,YAAT,CAAsB7C,CAAtB,EAAyB;IACrC,IAAIa,MAAM,GAAG,IAAb;IACA,IAAIiC,MAAM,GAAGjC,MAAM,CAACiC,MAApB;IACA,IAAIhC,OAAO,GAAGD,MAAM,CAACC,OAArB;IACA,IAAIC,MAAM,GAAGF,MAAM,CAACE,MAAP,CAAcC,IAA3B;IACA,IAAIA,IAAI,GAAGH,MAAM,CAACG,IAAlB;IACA,IAAIC,OAAO,GAAGD,IAAI,CAACC,OAAnB;;IAEA,IAAI,CAACH,OAAO,CAACM,QAAb,EAAuB;MACrB,IAAI,CAACJ,IAAI,CAACE,kBAAN,IAA4B,CAACF,IAAI,CAACG,gBAAtC,EAAwD;QACtD;MACD;;MAED,IAAInB,CAAC,CAACqB,IAAF,KAAW,UAAX,IAAyBrB,CAAC,CAACqB,IAAF,KAAW,UAAX,IAAyBrB,CAAC,CAAC+C,cAAF,CAAiB5D,MAAjB,GAA0B,CAAnD,IAAwD,CAAC2D,MAAM,CAACE,OAA7F,EAAsG;QACpG;MACD;;MAEDhC,IAAI,CAACE,kBAAL,GAA0B,KAA1B;MACAF,IAAI,CAACG,gBAAL,GAAwB,KAAxB;IACD;;IAED,IAAI,CAACF,OAAO,CAACY,QAAT,IAAqBZ,OAAO,CAACY,QAAR,CAAiB1C,MAAjB,KAA4B,CAArD,EAAwD;IACxD6B,IAAI,CAACyB,KAAL,GAAahC,IAAI,CAACwC,GAAL,CAASxC,IAAI,CAACyC,GAAL,CAASlC,IAAI,CAACyB,KAAd,EAAqBxB,OAAO,CAACiB,QAA7B,CAAT,EAAiDnB,MAAM,CAAC4B,QAAxD,CAAb;IACA1B,OAAO,CAACY,QAAR,CAAiBQ,UAAjB,CAA4BxB,MAAM,CAACE,MAAP,CAAcoC,KAA1C,EAAiDP,SAAjD,CAA2D,8BAA8B5B,IAAI,CAACyB,KAAnC,GAA2C,GAAtG;IACAzB,IAAI,CAAC0B,YAAL,GAAoB1B,IAAI,CAACyB,KAAzB;IACAzB,IAAI,CAACsB,SAAL,GAAiB,KAAjB;IACA,IAAItB,IAAI,CAACyB,KAAL,KAAe,CAAnB,EAAsBxB,OAAO,CAACM,QAAR,GAAmBa,SAAnB;EACvB,CAjHQ;EAkHTgB,YAAY,EAAE,SAASA,YAAT,CAAsBpD,CAAtB,EAAyB;IACrC,IAAIa,MAAM,GAAG,IAAb;IACA,IAAIiC,MAAM,GAAGjC,MAAM,CAACiC,MAApB;IACA,IAAI9B,IAAI,GAAGH,MAAM,CAACG,IAAlB;IACA,IAAIC,OAAO,GAAGD,IAAI,CAACC,OAAnB;IAAA,IACIoC,KAAK,GAAGrC,IAAI,CAACqC,KADjB;IAEA,IAAI,CAACpC,OAAO,CAACY,QAAT,IAAqBZ,OAAO,CAACY,QAAR,CAAiB1C,MAAjB,KAA4B,CAArD,EAAwD;IACxD,IAAIkE,KAAK,CAACC,SAAV,EAAqB;IACrB,IAAIR,MAAM,CAACE,OAAP,IAAkBhD,CAAC,CAACuD,UAAxB,EAAoCvD,CAAC,CAACwD,cAAF;IACpCH,KAAK,CAACC,SAAN,GAAkB,IAAlB;IACAD,KAAK,CAACI,YAAN,CAAmBC,CAAnB,GAAuB1D,CAAC,CAACqB,IAAF,KAAW,YAAX,GAA0BrB,CAAC,CAACC,aAAF,CAAgB,CAAhB,EAAmBE,KAA7C,GAAqDH,CAAC,CAACG,KAA9E;IACAkD,KAAK,CAACI,YAAN,CAAmBE,CAAnB,GAAuB3D,CAAC,CAACqB,IAAF,KAAW,YAAX,GAA0BrB,CAAC,CAACC,aAAF,CAAgB,CAAhB,EAAmBI,KAA7C,GAAqDL,CAAC,CAACK,KAA9E;EACD,CA9HQ;EA+HTuD,WAAW,EAAE,SAASA,WAAT,CAAqB5D,CAArB,EAAwB;IACnC,IAAIa,MAAM,GAAG,IAAb;IACA,IAAIG,IAAI,GAAGH,MAAM,CAACG,IAAlB;IACA,IAAIC,OAAO,GAAGD,IAAI,CAACC,OAAnB;IAAA,IACIoC,KAAK,GAAGrC,IAAI,CAACqC,KADjB;IAAA,IAEIQ,QAAQ,GAAG7C,IAAI,CAAC6C,QAFpB;IAGA,IAAI,CAAC5C,OAAO,CAACY,QAAT,IAAqBZ,OAAO,CAACY,QAAR,CAAiB1C,MAAjB,KAA4B,CAArD,EAAwD;IACxD0B,MAAM,CAACiD,UAAP,GAAoB,KAApB;IACA,IAAI,CAACT,KAAK,CAACC,SAAP,IAAoB,CAACrC,OAAO,CAACM,QAAjC,EAA2C;;IAE3C,IAAI,CAAC8B,KAAK,CAACU,OAAX,EAAoB;MAClBV,KAAK,CAACW,KAAN,GAAc/C,OAAO,CAACY,QAAR,CAAiB,CAAjB,EAAoBoC,WAAlC;MACAZ,KAAK,CAACa,MAAN,GAAejD,OAAO,CAACY,QAAR,CAAiB,CAAjB,EAAoBsC,YAAnC;MACAd,KAAK,CAACe,MAAN,GAAevE,YAAY,CAACoB,OAAO,CAACc,YAAR,CAAqB,CAArB,CAAD,EAA0B,GAA1B,CAAZ,IAA8C,CAA7D;MACAsB,KAAK,CAACgB,MAAN,GAAexE,YAAY,CAACoB,OAAO,CAACc,YAAR,CAAqB,CAArB,CAAD,EAA0B,GAA1B,CAAZ,IAA8C,CAA7D;MACAd,OAAO,CAACqD,UAAR,GAAqBrD,OAAO,CAACM,QAAR,CAAiB,CAAjB,EAAoB0C,WAAzC;MACAhD,OAAO,CAACsD,WAAR,GAAsBtD,OAAO,CAACM,QAAR,CAAiB,CAAjB,EAAoB4C,YAA1C;MACAlD,OAAO,CAACc,YAAR,CAAqBM,UAArB,CAAgC,CAAhC;IACD,CAlBkC,CAkBjC;;;IAGF,IAAImC,WAAW,GAAGnB,KAAK,CAACW,KAAN,GAAchD,IAAI,CAACyB,KAArC;IACA,IAAIgC,YAAY,GAAGpB,KAAK,CAACa,MAAN,GAAelD,IAAI,CAACyB,KAAvC;IACA,IAAI+B,WAAW,GAAGvD,OAAO,CAACqD,UAAtB,IAAoCG,YAAY,GAAGxD,OAAO,CAACsD,WAA/D,EAA4E;IAC5ElB,KAAK,CAACqB,IAAN,GAAajE,IAAI,CAACyC,GAAL,CAASjC,OAAO,CAACqD,UAAR,GAAqB,CAArB,GAAyBE,WAAW,GAAG,CAAhD,EAAmD,CAAnD,CAAb;IACAnB,KAAK,CAACsB,IAAN,GAAa,CAACtB,KAAK,CAACqB,IAApB;IACArB,KAAK,CAACuB,IAAN,GAAanE,IAAI,CAACyC,GAAL,CAASjC,OAAO,CAACsD,WAAR,GAAsB,CAAtB,GAA0BE,YAAY,GAAG,CAAlD,EAAqD,CAArD,CAAb;IACApB,KAAK,CAACwB,IAAN,GAAa,CAACxB,KAAK,CAACuB,IAApB;IACAvB,KAAK,CAACyB,cAAN,CAAqBpB,CAArB,GAAyB1D,CAAC,CAACqB,IAAF,KAAW,WAAX,GAAyBrB,CAAC,CAACC,aAAF,CAAgB,CAAhB,EAAmBE,KAA5C,GAAoDH,CAAC,CAACG,KAA/E;IACAkD,KAAK,CAACyB,cAAN,CAAqBnB,CAArB,GAAyB3D,CAAC,CAACqB,IAAF,KAAW,WAAX,GAAyBrB,CAAC,CAACC,aAAF,CAAgB,CAAhB,EAAmBI,KAA5C,GAAoDL,CAAC,CAACK,KAA/E;;IAEA,IAAI,CAACgD,KAAK,CAACU,OAAP,IAAkB,CAAC/C,IAAI,CAACsB,SAA5B,EAAuC;MACrC,IAAIzB,MAAM,CAACkE,YAAP,OAA0BtE,IAAI,CAACuE,KAAL,CAAW3B,KAAK,CAACqB,IAAjB,MAA2BjE,IAAI,CAACuE,KAAL,CAAW3B,KAAK,CAACe,MAAjB,CAA3B,IAAuDf,KAAK,CAACyB,cAAN,CAAqBpB,CAArB,GAAyBL,KAAK,CAACI,YAAN,CAAmBC,CAAnG,IAAwGjD,IAAI,CAACuE,KAAL,CAAW3B,KAAK,CAACsB,IAAjB,MAA2BlE,IAAI,CAACuE,KAAL,CAAW3B,KAAK,CAACe,MAAjB,CAA3B,IAAuDf,KAAK,CAACyB,cAAN,CAAqBpB,CAArB,GAAyBL,KAAK,CAACI,YAAN,CAAmBC,CAArO,CAAJ,EAA6O;QAC3OL,KAAK,CAACC,SAAN,GAAkB,KAAlB;QACA;MACD;;MAED,IAAI,CAACzC,MAAM,CAACkE,YAAP,EAAD,KAA2BtE,IAAI,CAACuE,KAAL,CAAW3B,KAAK,CAACuB,IAAjB,MAA2BnE,IAAI,CAACuE,KAAL,CAAW3B,KAAK,CAACgB,MAAjB,CAA3B,IAAuDhB,KAAK,CAACyB,cAAN,CAAqBnB,CAArB,GAAyBN,KAAK,CAACI,YAAN,CAAmBE,CAAnG,IAAwGlD,IAAI,CAACuE,KAAL,CAAW3B,KAAK,CAACwB,IAAjB,MAA2BpE,IAAI,CAACuE,KAAL,CAAW3B,KAAK,CAACgB,MAAjB,CAA3B,IAAuDhB,KAAK,CAACyB,cAAN,CAAqBnB,CAArB,GAAyBN,KAAK,CAACI,YAAN,CAAmBE,CAAtO,CAAJ,EAA8O;QAC5ON,KAAK,CAACC,SAAN,GAAkB,KAAlB;QACA;MACD;IACF;;IAED,IAAItD,CAAC,CAACuD,UAAN,EAAkB;MAChBvD,CAAC,CAACwD,cAAF;IACD;;IAEDxD,CAAC,CAACiF,eAAF;IACA5B,KAAK,CAACU,OAAN,GAAgB,IAAhB;IACAV,KAAK,CAAC6B,QAAN,GAAiB7B,KAAK,CAACyB,cAAN,CAAqBpB,CAArB,GAAyBL,KAAK,CAACI,YAAN,CAAmBC,CAA5C,GAAgDL,KAAK,CAACe,MAAvE;IACAf,KAAK,CAAC8B,QAAN,GAAiB9B,KAAK,CAACyB,cAAN,CAAqBnB,CAArB,GAAyBN,KAAK,CAACI,YAAN,CAAmBE,CAA5C,GAAgDN,KAAK,CAACgB,MAAvE;;IAEA,IAAIhB,KAAK,CAAC6B,QAAN,GAAiB7B,KAAK,CAACqB,IAA3B,EAAiC;MAC/BrB,KAAK,CAAC6B,QAAN,GAAiB7B,KAAK,CAACqB,IAAN,GAAa,CAAb,GAAiBjE,IAAI,CAACE,GAAL,CAAS0C,KAAK,CAACqB,IAAN,GAAarB,KAAK,CAAC6B,QAAnB,GAA8B,CAAvC,EAA0C,GAA1C,CAAlC;IACD;;IAED,IAAI7B,KAAK,CAAC6B,QAAN,GAAiB7B,KAAK,CAACsB,IAA3B,EAAiC;MAC/BtB,KAAK,CAAC6B,QAAN,GAAiB7B,KAAK,CAACsB,IAAN,GAAa,CAAb,GAAiBlE,IAAI,CAACE,GAAL,CAAS0C,KAAK,CAAC6B,QAAN,GAAiB7B,KAAK,CAACsB,IAAvB,GAA8B,CAAvC,EAA0C,GAA1C,CAAlC;IACD;;IAED,IAAItB,KAAK,CAAC8B,QAAN,GAAiB9B,KAAK,CAACuB,IAA3B,EAAiC;MAC/BvB,KAAK,CAAC8B,QAAN,GAAiB9B,KAAK,CAACuB,IAAN,GAAa,CAAb,GAAiBnE,IAAI,CAACE,GAAL,CAAS0C,KAAK,CAACuB,IAAN,GAAavB,KAAK,CAAC8B,QAAnB,GAA8B,CAAvC,EAA0C,GAA1C,CAAlC;IACD;;IAED,IAAI9B,KAAK,CAAC8B,QAAN,GAAiB9B,KAAK,CAACwB,IAA3B,EAAiC;MAC/BxB,KAAK,CAAC8B,QAAN,GAAiB9B,KAAK,CAACwB,IAAN,GAAa,CAAb,GAAiBpE,IAAI,CAACE,GAAL,CAAS0C,KAAK,CAAC8B,QAAN,GAAiB9B,KAAK,CAACwB,IAAvB,GAA8B,CAAvC,EAA0C,GAA1C,CAAlC;IACD,CAlEkC,CAkEjC;;;IAGF,IAAI,CAAChB,QAAQ,CAACuB,aAAd,EAA6BvB,QAAQ,CAACuB,aAAT,GAAyB/B,KAAK,CAACyB,cAAN,CAAqBpB,CAA9C;IAC7B,IAAI,CAACG,QAAQ,CAACwB,aAAd,EAA6BxB,QAAQ,CAACwB,aAAT,GAAyBhC,KAAK,CAACyB,cAAN,CAAqBnB,CAA9C;IAC7B,IAAI,CAACE,QAAQ,CAACyB,QAAd,EAAwBzB,QAAQ,CAACyB,QAAT,GAAoBC,IAAI,CAACC,GAAL,EAApB;IACxB3B,QAAQ,CAACH,CAAT,GAAa,CAACL,KAAK,CAACyB,cAAN,CAAqBpB,CAArB,GAAyBG,QAAQ,CAACuB,aAAnC,KAAqDG,IAAI,CAACC,GAAL,KAAa3B,QAAQ,CAACyB,QAA3E,IAAuF,CAApG;IACAzB,QAAQ,CAACF,CAAT,GAAa,CAACN,KAAK,CAACyB,cAAN,CAAqBnB,CAArB,GAAyBE,QAAQ,CAACwB,aAAnC,KAAqDE,IAAI,CAACC,GAAL,KAAa3B,QAAQ,CAACyB,QAA3E,IAAuF,CAApG;IACA,IAAI7E,IAAI,CAACgF,GAAL,CAASpC,KAAK,CAACyB,cAAN,CAAqBpB,CAArB,GAAyBG,QAAQ,CAACuB,aAA3C,IAA4D,CAAhE,EAAmEvB,QAAQ,CAACH,CAAT,GAAa,CAAb;IACnE,IAAIjD,IAAI,CAACgF,GAAL,CAASpC,KAAK,CAACyB,cAAN,CAAqBnB,CAArB,GAAyBE,QAAQ,CAACwB,aAA3C,IAA4D,CAAhE,EAAmExB,QAAQ,CAACF,CAAT,GAAa,CAAb;IACnEE,QAAQ,CAACuB,aAAT,GAAyB/B,KAAK,CAACyB,cAAN,CAAqBpB,CAA9C;IACAG,QAAQ,CAACwB,aAAT,GAAyBhC,KAAK,CAACyB,cAAN,CAAqBnB,CAA9C;IACAE,QAAQ,CAACyB,QAAT,GAAoBC,IAAI,CAACC,GAAL,EAApB;IACAvE,OAAO,CAACc,YAAR,CAAqBa,SAArB,CAA+B,iBAAiBS,KAAK,CAAC6B,QAAvB,GAAkC,MAAlC,GAA2C7B,KAAK,CAAC8B,QAAjD,GAA4D,OAA3F;EACD,CA/MQ;EAgNTO,UAAU,EAAE,SAASA,UAAT,GAAsB;IAChC,IAAI7E,MAAM,GAAG,IAAb;IACA,IAAIG,IAAI,GAAGH,MAAM,CAACG,IAAlB;IACA,IAAIC,OAAO,GAAGD,IAAI,CAACC,OAAnB;IAAA,IACIoC,KAAK,GAAGrC,IAAI,CAACqC,KADjB;IAAA,IAEIQ,QAAQ,GAAG7C,IAAI,CAAC6C,QAFpB;IAGA,IAAI,CAAC5C,OAAO,CAACY,QAAT,IAAqBZ,OAAO,CAACY,QAAR,CAAiB1C,MAAjB,KAA4B,CAArD,EAAwD;;IAExD,IAAI,CAACkE,KAAK,CAACC,SAAP,IAAoB,CAACD,KAAK,CAACU,OAA/B,EAAwC;MACtCV,KAAK,CAACC,SAAN,GAAkB,KAAlB;MACAD,KAAK,CAACU,OAAN,GAAgB,KAAhB;MACA;IACD;;IAEDV,KAAK,CAACC,SAAN,GAAkB,KAAlB;IACAD,KAAK,CAACU,OAAN,GAAgB,KAAhB;IACA,IAAI4B,iBAAiB,GAAG,GAAxB;IACA,IAAIC,iBAAiB,GAAG,GAAxB;IACA,IAAIC,iBAAiB,GAAGhC,QAAQ,CAACH,CAAT,GAAaiC,iBAArC;IACA,IAAIG,YAAY,GAAGzC,KAAK,CAAC6B,QAAN,GAAiBW,iBAApC;IACA,IAAIE,iBAAiB,GAAGlC,QAAQ,CAACF,CAAT,GAAaiC,iBAArC;IACA,IAAII,YAAY,GAAG3C,KAAK,CAAC8B,QAAN,GAAiBY,iBAApC,CArBgC,CAqBuB;;IAEvD,IAAIlC,QAAQ,CAACH,CAAT,KAAe,CAAnB,EAAsBiC,iBAAiB,GAAGlF,IAAI,CAACgF,GAAL,CAAS,CAACK,YAAY,GAAGzC,KAAK,CAAC6B,QAAtB,IAAkCrB,QAAQ,CAACH,CAApD,CAApB;IACtB,IAAIG,QAAQ,CAACF,CAAT,KAAe,CAAnB,EAAsBiC,iBAAiB,GAAGnF,IAAI,CAACgF,GAAL,CAAS,CAACO,YAAY,GAAG3C,KAAK,CAAC8B,QAAtB,IAAkCtB,QAAQ,CAACF,CAApD,CAApB;IACtB,IAAIsC,gBAAgB,GAAGxF,IAAI,CAACwC,GAAL,CAAS0C,iBAAT,EAA4BC,iBAA5B,CAAvB;IACAvC,KAAK,CAAC6B,QAAN,GAAiBY,YAAjB;IACAzC,KAAK,CAAC8B,QAAN,GAAiBa,YAAjB,CA3BgC,CA2BD;;IAE/B,IAAIxB,WAAW,GAAGnB,KAAK,CAACW,KAAN,GAAchD,IAAI,CAACyB,KAArC;IACA,IAAIgC,YAAY,GAAGpB,KAAK,CAACa,MAAN,GAAelD,IAAI,CAACyB,KAAvC;IACAY,KAAK,CAACqB,IAAN,GAAajE,IAAI,CAACyC,GAAL,CAASjC,OAAO,CAACqD,UAAR,GAAqB,CAArB,GAAyBE,WAAW,GAAG,CAAhD,EAAmD,CAAnD,CAAb;IACAnB,KAAK,CAACsB,IAAN,GAAa,CAACtB,KAAK,CAACqB,IAApB;IACArB,KAAK,CAACuB,IAAN,GAAanE,IAAI,CAACyC,GAAL,CAASjC,OAAO,CAACsD,WAAR,GAAsB,CAAtB,GAA0BE,YAAY,GAAG,CAAlD,EAAqD,CAArD,CAAb;IACApB,KAAK,CAACwB,IAAN,GAAa,CAACxB,KAAK,CAACuB,IAApB;IACAvB,KAAK,CAAC6B,QAAN,GAAiBzE,IAAI,CAACwC,GAAL,CAASxC,IAAI,CAACyC,GAAL,CAASG,KAAK,CAAC6B,QAAf,EAAyB7B,KAAK,CAACsB,IAA/B,CAAT,EAA+CtB,KAAK,CAACqB,IAArD,CAAjB;IACArB,KAAK,CAAC8B,QAAN,GAAiB1E,IAAI,CAACwC,GAAL,CAASxC,IAAI,CAACyC,GAAL,CAASG,KAAK,CAAC8B,QAAf,EAAyB9B,KAAK,CAACwB,IAA/B,CAAT,EAA+CxB,KAAK,CAACuB,IAArD,CAAjB;IACA3D,OAAO,CAACc,YAAR,CAAqBM,UAArB,CAAgC4D,gBAAhC,EAAkDrD,SAAlD,CAA4D,iBAAiBS,KAAK,CAAC6B,QAAvB,GAAkC,MAAlC,GAA2C7B,KAAK,CAAC8B,QAAjD,GAA4D,OAAxH;EACD,CAtPQ;EAuPTe,eAAe,EAAE,SAASA,eAAT,GAA2B;IAC1C,IAAIrF,MAAM,GAAG,IAAb;IACA,IAAIG,IAAI,GAAGH,MAAM,CAACG,IAAlB;IACA,IAAIC,OAAO,GAAGD,IAAI,CAACC,OAAnB;;IAEA,IAAIA,OAAO,CAACM,QAAR,IAAoBV,MAAM,CAACsF,aAAP,KAAyBtF,MAAM,CAACe,WAAxD,EAAqE;MACnE,IAAIX,OAAO,CAACY,QAAZ,EAAsB;QACpBZ,OAAO,CAACY,QAAR,CAAiBe,SAAjB,CAA2B,6BAA3B;MACD;;MAED,IAAI3B,OAAO,CAACc,YAAZ,EAA0B;QACxBd,OAAO,CAACc,YAAR,CAAqBa,SAArB,CAA+B,oBAA/B;MACD;;MAED5B,IAAI,CAACyB,KAAL,GAAa,CAAb;MACAzB,IAAI,CAAC0B,YAAL,GAAoB,CAApB;MACAzB,OAAO,CAACM,QAAR,GAAmBa,SAAnB;MACAnB,OAAO,CAACY,QAAR,GAAmBO,SAAnB;MACAnB,OAAO,CAACc,YAAR,GAAuBK,SAAvB;IACD;EACF,CA3QQ;EA4QT;EACAgE,MAAM,EAAE,SAASA,MAAT,CAAgBpG,CAAhB,EAAmB;IACzB,IAAIa,MAAM,GAAG,IAAb;IACA,IAAIG,IAAI,GAAGH,MAAM,CAACG,IAAlB;;IAEA,IAAIA,IAAI,CAACyB,KAAL,IAAczB,IAAI,CAACyB,KAAL,KAAe,CAAjC,EAAoC;MAClC;MACAzB,IAAI,CAACqF,GAAL;IACD,CAHD,MAGO;MACL;MACArF,IAAI,CAACsF,EAAL,CAAQtG,CAAR;IACD;EACF,CAxRQ;EAyRTsG,EAAE,EAAE,SAASC,GAAT,CAAavG,CAAb,EAAgB;IAClB,IAAIa,MAAM,GAAG,IAAb;IACA,IAAI2F,MAAM,GAAG9G,SAAS,EAAtB;IACA,IAAIsB,IAAI,GAAGH,MAAM,CAACG,IAAlB;IACA,IAAID,MAAM,GAAGF,MAAM,CAACE,MAAP,CAAcC,IAA3B;IACA,IAAIC,OAAO,GAAGD,IAAI,CAACC,OAAnB;IAAA,IACIoC,KAAK,GAAGrC,IAAI,CAACqC,KADjB;;IAGA,IAAI,CAACpC,OAAO,CAACM,QAAb,EAAuB;MACrB,IAAIvB,CAAC,IAAIA,CAAC,CAAChB,MAAX,EAAmB;QACjBiC,OAAO,CAACM,QAAR,GAAmB5B,CAAC,CAACK,CAAC,CAAChB,MAAH,CAAD,CAAYwC,OAAZ,CAAoB,MAAMX,MAAM,CAACE,MAAP,CAAcU,UAAxC,CAAnB;MACD;;MAED,IAAI,CAACR,OAAO,CAACM,QAAb,EAAuB;QACrB,IAAIV,MAAM,CAACE,MAAP,CAAc0F,OAAd,IAAyB5F,MAAM,CAACE,MAAP,CAAc0F,OAAd,CAAsBC,OAA/C,IAA0D7F,MAAM,CAAC4F,OAArE,EAA8E;UAC5ExF,OAAO,CAACM,QAAR,GAAmBV,MAAM,CAAC8F,UAAP,CAAkBC,QAAlB,CAA2B,MAAM/F,MAAM,CAACE,MAAP,CAAc8F,gBAA/C,CAAnB;QACD,CAFD,MAEO;UACL5F,OAAO,CAACM,QAAR,GAAmBV,MAAM,CAACa,MAAP,CAAcC,EAAd,CAAiBd,MAAM,CAACe,WAAxB,CAAnB;QACD;MACF;;MAEDX,OAAO,CAACY,QAAR,GAAmBZ,OAAO,CAACM,QAAR,CAAiBO,IAAjB,CAAsB,gDAAtB,CAAnB;MACAb,OAAO,CAACc,YAAR,GAAuBd,OAAO,CAACY,QAAR,CAAiBG,MAAjB,CAAwB,MAAMjB,MAAM,CAACkB,cAArC,CAAvB;IACD;;IAED,IAAI,CAAChB,OAAO,CAACY,QAAT,IAAqBZ,OAAO,CAACY,QAAR,CAAiB1C,MAAjB,KAA4B,CAAjD,IAAsD,CAAC8B,OAAO,CAACc,YAA/D,IAA+Ed,OAAO,CAACc,YAAR,CAAqB5C,MAArB,KAAgC,CAAnH,EAAsH;IACtH8B,OAAO,CAACM,QAAR,CAAiBuF,QAAjB,CAA0B,KAAK/F,MAAM,CAACgG,gBAAtC;IACA,IAAIC,MAAJ;IACA,IAAIC,MAAJ;IACA,IAAIC,OAAJ;IACA,IAAIC,OAAJ;IACA,IAAIC,KAAJ;IACA,IAAIC,KAAJ;IACA,IAAIC,UAAJ;IACA,IAAIC,UAAJ;IACA,IAAIC,UAAJ;IACA,IAAIC,WAAJ;IACA,IAAIjD,WAAJ;IACA,IAAIC,YAAJ;IACA,IAAIiD,aAAJ;IACA,IAAIC,aAAJ;IACA,IAAIC,aAAJ;IACA,IAAIC,aAAJ;IACA,IAAIvD,UAAJ;IACA,IAAIC,WAAJ;;IAEA,IAAI,OAAOlB,KAAK,CAACI,YAAN,CAAmBC,CAA1B,KAAgC,WAAhC,IAA+C1D,CAAnD,EAAsD;MACpDgH,MAAM,GAAGhH,CAAC,CAACqB,IAAF,KAAW,UAAX,GAAwBrB,CAAC,CAAC+C,cAAF,CAAiB,CAAjB,EAAoB5C,KAA5C,GAAoDH,CAAC,CAACG,KAA/D;MACA8G,MAAM,GAAGjH,CAAC,CAACqB,IAAF,KAAW,UAAX,GAAwBrB,CAAC,CAAC+C,cAAF,CAAiB,CAAjB,EAAoB1C,KAA5C,GAAoDL,CAAC,CAACK,KAA/D;IACD,CAHD,MAGO;MACL2G,MAAM,GAAG3D,KAAK,CAACI,YAAN,CAAmBC,CAA5B;MACAuD,MAAM,GAAG5D,KAAK,CAACI,YAAN,CAAmBE,CAA5B;IACD;;IAED3C,IAAI,CAACyB,KAAL,GAAaxB,OAAO,CAACc,YAAR,CAAqBI,IAArB,CAA0B,kBAA1B,KAAiDpB,MAAM,CAACmB,QAArE;IACAlB,IAAI,CAAC0B,YAAL,GAAoBzB,OAAO,CAACc,YAAR,CAAqBI,IAArB,CAA0B,kBAA1B,KAAiDpB,MAAM,CAACmB,QAA5E;;IAEA,IAAIlC,CAAJ,EAAO;MACLsE,UAAU,GAAGrD,OAAO,CAACM,QAAR,CAAiB,CAAjB,EAAoB0C,WAAjC;MACAM,WAAW,GAAGtD,OAAO,CAACM,QAAR,CAAiB,CAAjB,EAAoB4C,YAAlC;MACA+C,OAAO,GAAGjG,OAAO,CAACM,QAAR,CAAiBuG,MAAjB,GAA0BC,IAA1B,GAAiCvB,MAAM,CAACwB,OAAlD;MACAb,OAAO,GAAGlG,OAAO,CAACM,QAAR,CAAiBuG,MAAjB,GAA0BG,GAA1B,GAAgCzB,MAAM,CAAC0B,OAAjD;MACAd,KAAK,GAAGF,OAAO,GAAG5C,UAAU,GAAG,CAAvB,GAA2B0C,MAAnC;MACAK,KAAK,GAAGF,OAAO,GAAG5C,WAAW,GAAG,CAAxB,GAA4B0C,MAApC;MACAO,UAAU,GAAGvG,OAAO,CAACY,QAAR,CAAiB,CAAjB,EAAoBoC,WAAjC;MACAwD,WAAW,GAAGxG,OAAO,CAACY,QAAR,CAAiB,CAAjB,EAAoBsC,YAAlC;MACAK,WAAW,GAAGgD,UAAU,GAAGxG,IAAI,CAACyB,KAAhC;MACAgC,YAAY,GAAGgD,WAAW,GAAGzG,IAAI,CAACyB,KAAlC;MACAiF,aAAa,GAAGjH,IAAI,CAACyC,GAAL,CAASoB,UAAU,GAAG,CAAb,GAAiBE,WAAW,GAAG,CAAxC,EAA2C,CAA3C,CAAhB;MACAmD,aAAa,GAAGlH,IAAI,CAACyC,GAAL,CAASqB,WAAW,GAAG,CAAd,GAAkBE,YAAY,GAAG,CAA1C,EAA6C,CAA7C,CAAhB;MACAmD,aAAa,GAAG,CAACF,aAAjB;MACAG,aAAa,GAAG,CAACF,aAAjB;MACAL,UAAU,GAAGF,KAAK,GAAGpG,IAAI,CAACyB,KAA1B;MACA8E,UAAU,GAAGF,KAAK,GAAGrG,IAAI,CAACyB,KAA1B;;MAEA,IAAI6E,UAAU,GAAGI,aAAjB,EAAgC;QAC9BJ,UAAU,GAAGI,aAAb;MACD;;MAED,IAAIJ,UAAU,GAAGM,aAAjB,EAAgC;QAC9BN,UAAU,GAAGM,aAAb;MACD;;MAED,IAAIL,UAAU,GAAGI,aAAjB,EAAgC;QAC9BJ,UAAU,GAAGI,aAAb;MACD;;MAED,IAAIJ,UAAU,GAAGM,aAAjB,EAAgC;QAC9BN,UAAU,GAAGM,aAAb;MACD;IACF,CAjCD,MAiCO;MACLP,UAAU,GAAG,CAAb;MACAC,UAAU,GAAG,CAAb;IACD;;IAEDtG,OAAO,CAACc,YAAR,CAAqBM,UAArB,CAAgC,GAAhC,EAAqCO,SAArC,CAA+C,iBAAiB0E,UAAjB,GAA8B,MAA9B,GAAuCC,UAAvC,GAAoD,OAAnG;IACAtG,OAAO,CAACY,QAAR,CAAiBQ,UAAjB,CAA4B,GAA5B,EAAiCO,SAAjC,CAA2C,8BAA8B5B,IAAI,CAACyB,KAAnC,GAA2C,GAAtF;EACD,CA1XQ;EA2XT4D,GAAG,EAAE,SAASA,GAAT,GAAe;IAClB,IAAIxF,MAAM,GAAG,IAAb;IACA,IAAIG,IAAI,GAAGH,MAAM,CAACG,IAAlB;IACA,IAAID,MAAM,GAAGF,MAAM,CAACE,MAAP,CAAcC,IAA3B;IACA,IAAIC,OAAO,GAAGD,IAAI,CAACC,OAAnB;;IAEA,IAAI,CAACA,OAAO,CAACM,QAAb,EAAuB;MACrB,IAAIV,MAAM,CAACE,MAAP,CAAc0F,OAAd,IAAyB5F,MAAM,CAACE,MAAP,CAAc0F,OAAd,CAAsBC,OAA/C,IAA0D7F,MAAM,CAAC4F,OAArE,EAA8E;QAC5ExF,OAAO,CAACM,QAAR,GAAmBV,MAAM,CAAC8F,UAAP,CAAkBC,QAAlB,CAA2B,MAAM/F,MAAM,CAACE,MAAP,CAAc8F,gBAA/C,CAAnB;MACD,CAFD,MAEO;QACL5F,OAAO,CAACM,QAAR,GAAmBV,MAAM,CAACa,MAAP,CAAcC,EAAd,CAAiBd,MAAM,CAACe,WAAxB,CAAnB;MACD;;MAEDX,OAAO,CAACY,QAAR,GAAmBZ,OAAO,CAACM,QAAR,CAAiBO,IAAjB,CAAsB,gDAAtB,CAAnB;MACAb,OAAO,CAACc,YAAR,GAAuBd,OAAO,CAACY,QAAR,CAAiBG,MAAjB,CAAwB,MAAMjB,MAAM,CAACkB,cAArC,CAAvB;IACD;;IAED,IAAI,CAAChB,OAAO,CAACY,QAAT,IAAqBZ,OAAO,CAACY,QAAR,CAAiB1C,MAAjB,KAA4B,CAAjD,IAAsD,CAAC8B,OAAO,CAACc,YAA/D,IAA+Ed,OAAO,CAACc,YAAR,CAAqB5C,MAArB,KAAgC,CAAnH,EAAsH;IACtH6B,IAAI,CAACyB,KAAL,GAAa,CAAb;IACAzB,IAAI,CAAC0B,YAAL,GAAoB,CAApB;IACAzB,OAAO,CAACc,YAAR,CAAqBM,UAArB,CAAgC,GAAhC,EAAqCO,SAArC,CAA+C,oBAA/C;IACA3B,OAAO,CAACY,QAAR,CAAiBQ,UAAjB,CAA4B,GAA5B,EAAiCO,SAAjC,CAA2C,6BAA3C;IACA3B,OAAO,CAACM,QAAR,CAAiB4G,WAAjB,CAA6B,KAAKpH,MAAM,CAACgG,gBAAzC;IACA9F,OAAO,CAACM,QAAR,GAAmBa,SAAnB;EACD,CAnZQ;EAoZTgG,cAAc,EAAE,SAASA,cAAT,CAAwBC,MAAxB,EAAgC;IAC9C,IAAIxH,MAAM,GAAG,IAAb;IACA,IAAIG,IAAI,GAAGH,MAAM,CAACG,IAAlB;IACA,IAAIsH,QAAQ,GAAGtH,IAAI,CAACuH,aAApB;IAAA,IACIC,OAAO,GAAGxH,IAAI,CAACyH,eADnB;IAEA5H,MAAM,CAAC8F,UAAP,CAAkB0B,MAAlB,EAA0B,cAA1B,EAA0CC,QAA1C,EAAoDtH,IAAI,CAACJ,cAAzD,EAAyE4H,OAAzE;IACA3H,MAAM,CAAC8F,UAAP,CAAkB0B,MAAlB,EAA0B,eAA1B,EAA2CC,QAA3C,EAAqDtH,IAAI,CAACuB,eAA1D,EAA2EiG,OAA3E;IACA3H,MAAM,CAAC8F,UAAP,CAAkB0B,MAAlB,EAA0B,YAA1B,EAAwCC,QAAxC,EAAkDtH,IAAI,CAAC6B,YAAvD,EAAqE2F,OAArE;EACD,CA5ZQ;EA6ZTE,cAAc,EAAE,SAASA,cAAT,GAA0B;IACxC,IAAI,KAAK1H,IAAL,CAAU2H,eAAd,EAA+B;IAC/B,KAAK3H,IAAL,CAAU2H,eAAV,GAA4B,IAA5B;IACA,KAAK3H,IAAL,CAAUoH,cAAV,CAAyB,IAAzB;EACD,CAjaQ;EAkaTQ,eAAe,EAAE,SAASA,eAAT,GAA2B;IAC1C,IAAI,CAAC,KAAK5H,IAAL,CAAU2H,eAAf,EAAgC;IAChC,KAAK3H,IAAL,CAAU2H,eAAV,GAA4B,KAA5B;IACA,KAAK3H,IAAL,CAAUoH,cAAV,CAAyB,KAAzB;EACD,CAtaQ;EAuaT;EACAS,MAAM,EAAE,SAASA,MAAT,GAAkB;IACxB,IAAIhI,MAAM,GAAG,IAAb;IACA,IAAIC,OAAO,GAAGD,MAAM,CAACC,OAArB;IACA,IAAIE,IAAI,GAAGH,MAAM,CAACG,IAAlB;IACA,IAAIA,IAAI,CAAC0F,OAAT,EAAkB;IAClB1F,IAAI,CAAC0F,OAAL,GAAe,IAAf;IACA,IAAI+B,eAAe,GAAG5H,MAAM,CAACiI,WAAP,CAAmBC,KAAnB,KAA6B,YAA7B,IAA6CjI,OAAO,CAAC2H,eAArD,IAAwE5H,MAAM,CAACE,MAAP,CAAciI,gBAAtF,GAAyG;MAC7HR,OAAO,EAAE,IADoH;MAE7HS,OAAO,EAAE;IAFoH,CAAzG,GAGlB,KAHJ;IAIA,IAAIC,yBAAyB,GAAGpI,OAAO,CAAC2H,eAAR,GAA0B;MACxDD,OAAO,EAAE,KAD+C;MAExDS,OAAO,EAAE;IAF+C,CAA1B,GAG5B,IAHJ;IAIA,IAAIV,aAAa,GAAG,MAAM1H,MAAM,CAACE,MAAP,CAAcU,UAAxC;IACAZ,MAAM,CAACG,IAAP,CAAYyH,eAAZ,GAA8BA,eAA9B;IACA5H,MAAM,CAACG,IAAP,CAAYuH,aAAZ,GAA4BA,aAA5B,CAhBwB,CAgBmB;;IAE3C,IAAIzH,OAAO,CAACM,QAAZ,EAAsB;MACpBP,MAAM,CAAC8F,UAAP,CAAkBwC,EAAlB,CAAqBtI,MAAM,CAACiI,WAAP,CAAmBC,KAAxC,EAA+ClI,MAAM,CAACG,IAAP,CAAY0H,cAA3D,EAA2ED,eAA3E;MACA5H,MAAM,CAAC8F,UAAP,CAAkBwC,EAAlB,CAAqBtI,MAAM,CAACiI,WAAP,CAAmBM,GAAxC,EAA6CvI,MAAM,CAACG,IAAP,CAAY4H,eAAzD,EAA0EH,eAA1E;IACD,CAHD,MAGO,IAAI5H,MAAM,CAACiI,WAAP,CAAmBC,KAAnB,KAA6B,YAAjC,EAA+C;MACpDlI,MAAM,CAAC8F,UAAP,CAAkBwC,EAAlB,CAAqBtI,MAAM,CAACiI,WAAP,CAAmBC,KAAxC,EAA+CR,aAA/C,EAA8DvH,IAAI,CAACJ,cAAnE,EAAmF6H,eAAnF;MACA5H,MAAM,CAAC8F,UAAP,CAAkBwC,EAAlB,CAAqBtI,MAAM,CAACiI,WAAP,CAAmBO,IAAxC,EAA8Cd,aAA9C,EAA6DvH,IAAI,CAACuB,eAAlE,EAAmF2G,yBAAnF;MACArI,MAAM,CAAC8F,UAAP,CAAkBwC,EAAlB,CAAqBtI,MAAM,CAACiI,WAAP,CAAmBM,GAAxC,EAA6Cb,aAA7C,EAA4DvH,IAAI,CAAC6B,YAAjE,EAA+E4F,eAA/E;;MAEA,IAAI5H,MAAM,CAACiI,WAAP,CAAmBQ,MAAvB,EAA+B;QAC7BzI,MAAM,CAAC8F,UAAP,CAAkBwC,EAAlB,CAAqBtI,MAAM,CAACiI,WAAP,CAAmBQ,MAAxC,EAAgDf,aAAhD,EAA+DvH,IAAI,CAAC6B,YAApE,EAAkF4F,eAAlF;MACD;IACF,CA7BuB,CA6BtB;;;IAGF5H,MAAM,CAAC8F,UAAP,CAAkBwC,EAAlB,CAAqBtI,MAAM,CAACiI,WAAP,CAAmBO,IAAxC,EAA8C,MAAMxI,MAAM,CAACE,MAAP,CAAcC,IAAd,CAAmBiB,cAAvE,EAAuFjB,IAAI,CAAC4C,WAA5F,EAAyGsF,yBAAzG;EACD,CAzcQ;EA0cTK,OAAO,EAAE,SAASA,OAAT,GAAmB;IAC1B,IAAI1I,MAAM,GAAG,IAAb;IACA,IAAIG,IAAI,GAAGH,MAAM,CAACG,IAAlB;IACA,IAAI,CAACA,IAAI,CAAC0F,OAAV,EAAmB;IACnB,IAAI5F,OAAO,GAAGD,MAAM,CAACC,OAArB;IACAD,MAAM,CAACG,IAAP,CAAY0F,OAAZ,GAAsB,KAAtB;IACA,IAAI+B,eAAe,GAAG5H,MAAM,CAACiI,WAAP,CAAmBC,KAAnB,KAA6B,YAA7B,IAA6CjI,OAAO,CAAC2H,eAArD,IAAwE5H,MAAM,CAACE,MAAP,CAAciI,gBAAtF,GAAyG;MAC7HR,OAAO,EAAE,IADoH;MAE7HS,OAAO,EAAE;IAFoH,CAAzG,GAGlB,KAHJ;IAIA,IAAIC,yBAAyB,GAAGpI,OAAO,CAAC2H,eAAR,GAA0B;MACxDD,OAAO,EAAE,KAD+C;MAExDS,OAAO,EAAE;IAF+C,CAA1B,GAG5B,IAHJ;IAIA,IAAIV,aAAa,GAAG,MAAM1H,MAAM,CAACE,MAAP,CAAcU,UAAxC,CAd0B,CAc0B;;IAEpD,IAAIX,OAAO,CAACM,QAAZ,EAAsB;MACpBP,MAAM,CAAC8F,UAAP,CAAkB6C,GAAlB,CAAsB3I,MAAM,CAACiI,WAAP,CAAmBC,KAAzC,EAAgDlI,MAAM,CAACG,IAAP,CAAY0H,cAA5D,EAA4ED,eAA5E;MACA5H,MAAM,CAAC8F,UAAP,CAAkB6C,GAAlB,CAAsB3I,MAAM,CAACiI,WAAP,CAAmBM,GAAzC,EAA8CvI,MAAM,CAACG,IAAP,CAAY4H,eAA1D,EAA2EH,eAA3E;IACD,CAHD,MAGO,IAAI5H,MAAM,CAACiI,WAAP,CAAmBC,KAAnB,KAA6B,YAAjC,EAA+C;MACpDlI,MAAM,CAAC8F,UAAP,CAAkB6C,GAAlB,CAAsB3I,MAAM,CAACiI,WAAP,CAAmBC,KAAzC,EAAgDR,aAAhD,EAA+DvH,IAAI,CAACJ,cAApE,EAAoF6H,eAApF;MACA5H,MAAM,CAAC8F,UAAP,CAAkB6C,GAAlB,CAAsB3I,MAAM,CAACiI,WAAP,CAAmBO,IAAzC,EAA+Cd,aAA/C,EAA8DvH,IAAI,CAACuB,eAAnE,EAAoF2G,yBAApF;MACArI,MAAM,CAAC8F,UAAP,CAAkB6C,GAAlB,CAAsB3I,MAAM,CAACiI,WAAP,CAAmBM,GAAzC,EAA8Cb,aAA9C,EAA6DvH,IAAI,CAAC6B,YAAlE,EAAgF4F,eAAhF;;MAEA,IAAI5H,MAAM,CAACiI,WAAP,CAAmBQ,MAAvB,EAA+B;QAC7BzI,MAAM,CAAC8F,UAAP,CAAkB6C,GAAlB,CAAsB3I,MAAM,CAACiI,WAAP,CAAmBQ,MAAzC,EAAiDf,aAAjD,EAAgEvH,IAAI,CAAC6B,YAArE,EAAmF4F,eAAnF;MACD;IACF,CA3ByB,CA2BxB;;;IAGF5H,MAAM,CAAC8F,UAAP,CAAkB6C,GAAlB,CAAsB3I,MAAM,CAACiI,WAAP,CAAmBO,IAAzC,EAA+C,MAAMxI,MAAM,CAACE,MAAP,CAAcC,IAAd,CAAmBiB,cAAxE,EAAwFjB,IAAI,CAAC4C,WAA7F,EAA0GsF,yBAA1G;EACD;AAzeQ,CAAX;AA2eA,eAAe;EACbO,IAAI,EAAE,MADO;EAEb1I,MAAM,EAAE;IACNC,IAAI,EAAE;MACJ0F,OAAO,EAAE,KADL;MAEJxE,QAAQ,EAAE,CAFN;MAGJS,QAAQ,EAAE,CAHN;MAIJyD,MAAM,EAAE,IAJJ;MAKJnE,cAAc,EAAE,uBALZ;MAMJ8E,gBAAgB,EAAE;IANd;EADA,CAFK;EAYb2C,MAAM,EAAE,SAASA,MAAT,GAAkB;IACxB,IAAI7I,MAAM,GAAG,IAAb;IACAjB,iBAAiB,CAACiB,MAAD,EAAS;MACxBG,IAAI,EAAEnC,QAAQ,CAAC;QACb6H,OAAO,EAAE,KADI;QAEbjE,KAAK,EAAE,CAFM;QAGbC,YAAY,EAAE,CAHD;QAIbJ,SAAS,EAAE,KAJE;QAKbrB,OAAO,EAAE;UACPM,QAAQ,EAAEa,SADH;UAEPkC,UAAU,EAAElC,SAFL;UAGPmC,WAAW,EAAEnC,SAHN;UAIPP,QAAQ,EAAEO,SAJH;UAKPL,YAAY,EAAEK,SALP;UAMPF,QAAQ,EAAE;QANH,CALI;QAabmB,KAAK,EAAE;UACLC,SAAS,EAAElB,SADN;UAEL2B,OAAO,EAAE3B,SAFJ;UAGL8C,QAAQ,EAAE9C,SAHL;UAIL+C,QAAQ,EAAE/C,SAJL;UAKLsC,IAAI,EAAEtC,SALD;UAMLwC,IAAI,EAAExC,SAND;UAOLuC,IAAI,EAAEvC,SAPD;UAQLyC,IAAI,EAAEzC,SARD;UASL4B,KAAK,EAAE5B,SATF;UAUL8B,MAAM,EAAE9B,SAVH;UAWLgC,MAAM,EAAEhC,SAXH;UAYLiC,MAAM,EAAEjC,SAZH;UAaLqB,YAAY,EAAE,EAbT;UAcLqB,cAAc,EAAE;QAdX,CAbM;QA6BbjB,QAAQ,EAAE;UACRH,CAAC,EAAEtB,SADK;UAERuB,CAAC,EAAEvB,SAFK;UAGRgD,aAAa,EAAEhD,SAHP;UAIRiD,aAAa,EAAEjD,SAJP;UAKRkD,QAAQ,EAAElD;QALF;MA7BG,CAAD,EAoCXtC,IApCW;IADU,CAAT,CAAjB;IAuCA,IAAI2C,KAAK,GAAG,CAAZ;IACA3D,MAAM,CAAC6K,cAAP,CAAsB9I,MAAM,CAACG,IAA7B,EAAmC,OAAnC,EAA4C;MAC1C4I,GAAG,EAAE,SAASA,GAAT,GAAe;QAClB,OAAOnH,KAAP;MACD,CAHyC;MAI1CoH,GAAG,EAAE,SAASA,GAAT,CAAaC,KAAb,EAAoB;QACvB,IAAIrH,KAAK,KAAKqH,KAAd,EAAqB;UACnB,IAAIC,OAAO,GAAGlJ,MAAM,CAACG,IAAP,CAAYC,OAAZ,CAAoBY,QAApB,GAA+BhB,MAAM,CAACG,IAAP,CAAYC,OAAZ,CAAoBY,QAApB,CAA6B,CAA7B,CAA/B,GAAiEO,SAA/E;UACA,IAAI4H,OAAO,GAAGnJ,MAAM,CAACG,IAAP,CAAYC,OAAZ,CAAoBM,QAApB,GAA+BV,MAAM,CAACG,IAAP,CAAYC,OAAZ,CAAoBM,QAApB,CAA6B,CAA7B,CAA/B,GAAiEa,SAA/E;UACAvB,MAAM,CAACoJ,IAAP,CAAY,YAAZ,EAA0BH,KAA1B,EAAiCC,OAAjC,EAA0CC,OAA1C;QACD;;QAEDvH,KAAK,GAAGqH,KAAR;MACD;IAZyC,CAA5C;EAcD,CApEY;EAqEbX,EAAE,EAAE;IACFe,IAAI,EAAE,SAASA,IAAT,CAAcrJ,MAAd,EAAsB;MAC1B,IAAIA,MAAM,CAACE,MAAP,CAAcC,IAAd,CAAmB0F,OAAvB,EAAgC;QAC9B7F,MAAM,CAACG,IAAP,CAAY6H,MAAZ;MACD;IACF,CALC;IAMFsB,OAAO,EAAE,SAASA,OAAT,CAAiBtJ,MAAjB,EAAyB;MAChCA,MAAM,CAACG,IAAP,CAAYuI,OAAZ;IACD,CARC;IASFa,UAAU,EAAE,SAASA,UAAT,CAAoBvJ,MAApB,EAA4Bb,CAA5B,EAA+B;MACzC,IAAI,CAACa,MAAM,CAACG,IAAP,CAAY0F,OAAjB,EAA0B;MAC1B7F,MAAM,CAACG,IAAP,CAAYoC,YAAZ,CAAyBpD,CAAzB;IACD,CAZC;IAaFqK,QAAQ,EAAE,SAASA,QAAT,CAAkBxJ,MAAlB,EAA0Bb,CAA1B,EAA6B;MACrC,IAAI,CAACa,MAAM,CAACG,IAAP,CAAY0F,OAAjB,EAA0B;MAC1B7F,MAAM,CAACG,IAAP,CAAY0E,UAAZ,CAAuB1F,CAAvB;IACD,CAhBC;IAiBFsK,SAAS,EAAE,SAASA,SAAT,CAAmBzJ,MAAnB,EAA2Bb,CAA3B,EAA8B;MACvC,IAAI,CAACa,MAAM,CAAC0J,SAAR,IAAqB1J,MAAM,CAACE,MAAP,CAAcC,IAAd,CAAmB0F,OAAxC,IAAmD7F,MAAM,CAACG,IAAP,CAAY0F,OAA/D,IAA0E7F,MAAM,CAACE,MAAP,CAAcC,IAAd,CAAmBoF,MAAjG,EAAyG;QACvGvF,MAAM,CAACG,IAAP,CAAYoF,MAAZ,CAAmBpG,CAAnB;MACD;IACF,CArBC;IAsBFwK,aAAa,EAAE,SAASA,aAAT,CAAuB3J,MAAvB,EAA+B;MAC5C,IAAIA,MAAM,CAACG,IAAP,CAAY0F,OAAZ,IAAuB7F,MAAM,CAACE,MAAP,CAAcC,IAAd,CAAmB0F,OAA9C,EAAuD;QACrD7F,MAAM,CAACG,IAAP,CAAYkF,eAAZ;MACD;IACF,CA1BC;IA2BFuE,WAAW,EAAE,SAASA,WAAT,CAAqB5J,MAArB,EAA6B;MACxC,IAAIA,MAAM,CAACG,IAAP,CAAY0F,OAAZ,IAAuB7F,MAAM,CAACE,MAAP,CAAcC,IAAd,CAAmB0F,OAA1C,IAAqD7F,MAAM,CAACE,MAAP,CAAc2J,OAAvE,EAAgF;QAC9E7J,MAAM,CAACG,IAAP,CAAYkF,eAAZ;MACD;IACF;EA/BC;AArES,CAAf"},"metadata":{},"sourceType":"module"}